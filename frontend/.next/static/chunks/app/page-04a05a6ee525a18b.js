(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{42030:(e,t,r)=>{"use strict";let a;r.d(t,{CipherWealthPanel:()=>ex});var s=r(95155),n=r(12115),i=r(54827),l=r(56037);let o="https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.umd.cjs";class c{isLoaded(){return u(window,this._trace)}load(){if(console.log("[RelayerSDKLoader] load..."),"relayerSDK"in window){if(!d(window.relayerSDK,this._trace))throw console.log("[RelayerSDKLoader] window.relayerSDK === undefined"),Error("RelayerSDKLoader: Unable to load FHEVM Relayer SDK");return Promise.resolve()}return new Promise((e,t)=>{if(document.querySelector('script[src="'.concat(o,'"]'))){u(window,this._trace)||t(Error("RelayerSDKLoader: window object does not contain a valid relayerSDK object.")),e();return}let r=document.createElement("script");r.src=o,r.type="text/javascript",r.async=!0,r.onload=()=>{u(window,this._trace)||(console.log("[RelayerSDKLoader] script onload FAILED..."),t(Error("RelayerSDKLoader: Relayer SDK script has been successfully loaded from ".concat(o,", however, the window.relayerSDK object is invalid.")))),e()},r.onerror=()=>{console.log("[RelayerSDKLoader] script onerror... "),t(Error("RelayerSDKLoader: Failed to load Relayer SDK from ".concat(o)))},console.log("[RelayerSDKLoader] add script to DOM..."),document.head.appendChild(r),console.log("[RelayerSDKLoader] script added!")})}constructor(e){this._trace=e.trace}}function d(e,t){return void 0===e?(null==t||t("RelayerSDKLoader: relayerSDK is undefined"),!1):null===e?(null==t||t("RelayerSDKLoader: relayerSDK is null"),!1):"object"!=typeof e?(null==t||t("RelayerSDKLoader: relayerSDK is not an object"),!1):m(e,"initSDK","function",t)?m(e,"createInstance","function",t)?m(e,"SepoliaConfig","object",t)?!("__initialized__"in e)||!0===e.__initialized__||!1===e.__initialized__||(null==t||t("RelayerSDKLoader: relayerSDK.__initialized__ is invalid"),!1):(null==t||t("RelayerSDKLoader: relayerSDK.SepoliaConfig is invalid"),!1):(null==t||t("RelayerSDKLoader: relayerSDK.createInstance is invalid"),!1):(null==t||t("RelayerSDKLoader: relayerSDK.initSDK is invalid"),!1)}function u(e,t){return void 0===e?(null==t||t("RelayerSDKLoader: window object is undefined"),!1):null===e?(null==t||t("RelayerSDKLoader: window object is null"),!1):"object"!=typeof e?(null==t||t("RelayerSDKLoader: window is not an object"),!1):"relayerSDK"in e?d(e.relayerSDK):(null==t||t("RelayerSDKLoader: window does not contain 'relayerSDK' property"),!1)}function m(e,t,r,a){if(!e||"object"!=typeof e)return!1;if(!(t in e))return null==a||a("RelayerSDKLoader: missing ".concat(String(t),".")),!1;let s=e[t];return null==s?(null==a||a("RelayerSDKLoader: ".concat(String(t)," is null or undefined.")),!1):typeof s===r||(null==a||a("RelayerSDKLoader: ".concat(String(t)," is not a ").concat(r,".")),!1)}var p=r(83899);async function h(){return a||(a=(0,p.P2)("fhevm",1,{upgrade(e){e.objectStoreNames.contains("paramsStore")||e.createObjectStore("paramsStore",{keyPath:"acl"}),e.objectStoreNames.contains("publicKeyStore")||e.createObjectStore("publicKeyStore",{keyPath:"acl"})}}))}function x(e){if("object"!=typeof e)throw Error("FhevmStoredPublicKey must be an object");if(null!==e){if(!("publicKeyId"in e))throw Error("FhevmStoredPublicKey.publicKeyId does not exist");if("string"!=typeof e.publicKeyId)throw Error("FhevmStoredPublicKey.publicKeyId must be a string");if(!("publicKey"in e))throw Error("FhevmStoredPublicKey.publicKey does not exist");if(!(e.publicKey instanceof Uint8Array))throw Error("FhevmStoredPublicKey.publicKey must be a Uint8Array")}}function y(e){if("object"!=typeof e)throw Error("FhevmStoredPublicParams must be an object");if(null!==e){if(!("publicParamsId"in e))throw Error("FhevmStoredPublicParams.publicParamsId does not exist");if("string"!=typeof e.publicParamsId)throw Error("FhevmStoredPublicParams.publicParamsId must be a string");if(!("publicParams"in e))throw Error("FhevmStoredPublicParams.publicParams does not exist");if(!(e.publicParams instanceof Uint8Array))throw Error("FhevmStoredPublicParams.publicParams must be a Uint8Array")}}async function b(e){let t,r=await h();if(!r)return{publicParams:null};let a=null;try{let t=await r.get("publicKeyStore",e);(null==t?void 0:t.value)&&(x(t.value),a=t.value)}catch(e){}let s=null;try{let t=await r.get("paramsStore",e);(null==t?void 0:t.value)&&(y(t.value),s=t.value)}catch(e){}let n=null==a?void 0:a.publicKey,i=null==a?void 0:a.publicKeyId,l=s?{2048:s}:null;return i&&n&&(t={id:i,data:n}),{...void 0!==t&&{publicKey:t},publicParams:l}}async function f(e,t,r){x(t),y(r);let a=await h();a&&(t&&await a.put("publicKeyStore",{acl:e,value:t}),r&&await a.put("paramsStore",{acl:e,value:r}))}class g extends Error{constructor(e,t,r){super(t,r),this.code=e,this.name="FhevmReactError"}}function w(e,t,r){throw new g(e,t,r?{cause:r}:void 0)}let v=async e=>{if(!u(window,console.log))throw Error("window.relayerSDK is not available");let t=await window.relayerSDK.initSDK(e);if(window.relayerSDK.__initialized__=t,!t)throw Error("window.relayerSDK.initSDK failed.");return!0};class j extends Error{constructor(e="FHEVM operation was cancelled"){super(e),this.name="FhevmAbortError"}}async function N(e){if("string"==typeof e){let t=new l.FR(e);return Number((await t.getNetwork()).chainId)}return Number.parseInt(await e.request({method:"eth_chainId"}),16)}async function D(e){let t=new l.FR(e);try{return await t.send("web3_clientVersion",[])}catch(t){w("WEB3_CLIENTVERSION_ERROR","The URL ".concat(e," is not a Web3 node or is not reachable. Please check the endpoint."),t)}finally{t.destroy()}}async function S(e){let t=await D(e);if("string"==typeof t&&t.toLowerCase().includes("hardhat"))try{let t=await _(e);if(!t||"object"!=typeof t||!("ACLAddress"in t&&"string"==typeof t.ACLAddress&&t.ACLAddress.startsWith("0x"))||!("InputVerifierAddress"in t&&"string"==typeof t.InputVerifierAddress&&t.InputVerifierAddress.startsWith("0x"))||!("KMSVerifierAddress"in t&&"string"==typeof t.KMSVerifierAddress&&t.KMSVerifierAddress.startsWith("0x")))return;return t}catch(e){return}}async function _(e){let t=new l.FR(e);try{return await t.send("fhevm_relayer_metadata",[])}catch(t){w("FHEVM_RELAYER_METADATA_ERROR","The URL ".concat(e," is not a FHEVM Hardhat node or is not reachable. Please check the endpoint."),t)}finally{t.destroy()}}async function K(e,t){let r=await N(e),a="string"==typeof e?e:void 0,s={31337:"http://localhost:8545",...null!=t?t:{}};return Object.hasOwn(s,r)?(a||(a=s[r]),{isMock:!0,chainId:r,rpcUrl:a}):{isMock:!1,chainId:r,rpcUrl:a}}let A=async e=>{let t=()=>{if(s.aborted)throw new j},a=e=>{n&&n(e)},{signal:s,onStatusChange:n,provider:l,mockChains:o}=e,{isMock:d,rpcUrl:m,chainId:p}=await K(l,o);if(d){let e=await S(m);if(e){a("creating");let s=await Promise.all([r.e(2235),r.e(7079)]).then(r.bind(r,47079)),n=await s.fhevmMockCreateInstance({rpcUrl:m,chainId:p,metadata:e});return t(),n}}t(),u(window,console.log)||(a("sdk-loading"),await new c({trace:console.log}).load(),t(),a("sdk-loaded")),u(window,console.log)&&!0===window.relayerSDK.__initialized__||(a("sdk-initializing"),await v(),t(),a("sdk-initialized"));let h=window.relayerSDK,x=h.SepoliaConfig.aclContractAddress;if(!function(e){return"string"==typeof e&&!!(0,i.PW)(e)}(x))throw Error("Invalid address: ".concat(x));let y=await b(x);t();let g={...h.SepoliaConfig,network:l,publicKey:y.publicKey,publicParams:y.publicParams};a("creating");let w=await h.createInstance(g);return await f(x,w.getPublicKey(),w.getPublicParams(2048)),t(),w};function E(e,t){if(!e){let e=t?"Assertion failed: ".concat(t):"Assertion failed.";throw console.error(e),Error(e)}}var k=r(98814),F=r(10557),C=r(82127),R=r(43338);let P={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"Withdrawal",type:"event"},{inputs:[{internalType:"externalEuint64",name:"inputEuint64",type:"bytes32"},{internalType:"bytes",name:"inputProof",type:"bytes"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"euint64",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getBalanceOf",outputs:[{internalType:"euint64",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"externalEuint64",name:"inputEuint64",type:"bytes32"},{internalType:"bytes",name:"inputProof",type:"bytes"}],name:"transfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"externalEuint64",name:"inputEuint64",type:"bytes32"},{internalType:"bytes",name:"inputProof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}]},I={0xaa36a7:{address:"0x0000000000000000000000000000000000000000",chainId:0xaa36a7,chainName:"sepolia"},31337:{address:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",chainId:31337,chainName:"hardhat"}};var M=r(67325),T=r(75777),W=r(15378),L=r(12507);function O(){return Math.floor(Date.now()/1e3)}var B=new WeakMap,V=new WeakMap,H=new WeakMap,z=new WeakMap;class U{get contractAddresses(){return(0,M._)(this,B)}get userAddress(){return(0,M._)(this,V)}get publicKey(){return(0,M._)(this,H)}get key(){return(0,M._)(this,z)}constructor(e,t,r,a){if((0,T._)(this,B,{writable:!0,value:void 0}),(0,T._)(this,V,{writable:!0,value:void 0}),(0,T._)(this,H,{writable:!0,value:void 0}),(0,T._)(this,z,{writable:!0,value:void 0}),!i.PW(r))throw TypeError("Invalid address ".concat(r));let s=t.sort(),n=e.createEIP712(null!=a?a:C.j,s,0,0);try{let e=L.z.hash(n.domain,{UserDecryptRequestVerification:n.types.UserDecryptRequestVerification},n.message);(0,W._)(this,B,s),(0,W._)(this,V,r),(0,W._)(this,z,"".concat(r,":").concat(e))}catch(e){throw console.log(e),e}}}var q=new WeakMap,G=new WeakMap,J=new WeakMap,Y=new WeakMap,Z=new WeakMap,Q=new WeakMap,X=new WeakMap,$=new WeakMap;class ee{get privateKey(){return(0,M._)(this,G)}get publicKey(){return(0,M._)(this,q)}get signature(){return(0,M._)(this,J)}get contractAddresses(){return(0,M._)(this,X)}get startTimestamp(){return(0,M._)(this,Y)}get durationDays(){return(0,M._)(this,Z)}get userAddress(){return(0,M._)(this,Q)}static checkIs(e){if(!e||"object"!=typeof e||!("publicKey"in e&&"string"==typeof e.publicKey)||!("privateKey"in e&&"string"==typeof e.privateKey)||!("signature"in e&&"string"==typeof e.signature)||!("startTimestamp"in e&&"number"==typeof e.startTimestamp)||!("durationDays"in e&&"number"==typeof e.durationDays)||!("contractAddresses"in e&&Array.isArray(e.contractAddresses)))return!1;for(let t=0;t<e.contractAddresses.length;++t)if("string"!=typeof e.contractAddresses[t]||!e.contractAddresses[t].startsWith("0x"))return!1;return!!("userAddress"in e&&"string"==typeof e.userAddress&&e.userAddress.startsWith("0x"))&&!!("eip712"in e&&"object"==typeof e.eip712&&null!==e.eip712)&&!!("domain"in e.eip712&&"object"==typeof e.eip712.domain)&&!!("primaryType"in e.eip712&&"string"==typeof e.eip712.primaryType)&&"message"in e.eip712&&!!("types"in e.eip712&&"object"==typeof e.eip712.types&&null!==e.eip712.types)}toJSON(){return{publicKey:(0,M._)(this,q),privateKey:(0,M._)(this,G),signature:(0,M._)(this,J),startTimestamp:(0,M._)(this,Y),durationDays:(0,M._)(this,Z),userAddress:(0,M._)(this,Q),contractAddresses:(0,M._)(this,X),eip712:(0,M._)(this,$)}}static fromJSON(e){return new ee("string"==typeof e?JSON.parse(e):e)}equals(e){return e.signature===(0,M._)(this,J)}isValid(){return O()<(0,M._)(this,Y)+24*(0,M._)(this,Z)*3600}async saveToGenericStringStorage(e,t,r){try{let a=JSON.stringify(this),s=new U(t,(0,M._)(this,X),(0,M._)(this,Q),r?(0,M._)(this,q):void 0);await e.setItem(s.key,a),console.log("signature saved! contracts=".concat((0,M._)(this,X).length))}catch(e){console.error("FhevmDecryptionSignature.saveToGenericStringStorage() failed!")}}static async loadFromGenericStringStorage(e,t,r,a,s){try{let n=new U(t,r,a,s),i=await e.getItem(n.key);if(!i)return console.warn("Could not load signature! key=".concat(n.key)),null;try{let e=ee.fromJSON(i);if(!e.isValid())return null;return e}catch(e){return null}}catch(e){return console.error("FhevmDecryptionSignature.loadFromGenericStringStorage() failed!"),null}}static async new(e,t,r,a,s){try{let n=await s.getAddress(),i=O(),l=e.createEIP712(r,t,i,365),o=await s.signTypedData(l.domain,{UserDecryptRequestVerification:l.types.UserDecryptRequestVerification},l.message);return new ee({publicKey:r,privateKey:a,contractAddresses:t,startTimestamp:i,durationDays:365,signature:o,eip712:l,userAddress:n})}catch(e){return null}}static async loadOrSign(e,t,r,a,s){let n=await r.getAddress(),i=await ee.loadFromGenericStringStorage(a,e,t,n,null==s?void 0:s.publicKey);if(i)return i;let{publicKey:l,privateKey:o}=null!=s?s:e.generateKeypair(),c=await ee.new(e,t,l,o,r);return c?(await c.saveToGenericStringStorage(a,e,!!(null==s?void 0:s.publicKey)),c):null}constructor(e){if((0,T._)(this,q,{writable:!0,value:void 0}),(0,T._)(this,G,{writable:!0,value:void 0}),(0,T._)(this,J,{writable:!0,value:void 0}),(0,T._)(this,Y,{writable:!0,value:void 0}),(0,T._)(this,Z,{writable:!0,value:void 0}),(0,T._)(this,Q,{writable:!0,value:void 0}),(0,T._)(this,X,{writable:!0,value:void 0}),(0,T._)(this,$,{writable:!0,value:void 0}),!ee.checkIs(e))throw TypeError("Invalid FhevmDecryptionSignatureType");(0,W._)(this,q,e.publicKey),(0,W._)(this,G,e.privateKey),(0,W._)(this,J,e.signature),(0,W._)(this,Y,e.startTimestamp),(0,W._)(this,Z,e.durationDays),(0,W._)(this,Q,e.userAddress),(0,W._)(this,X,e.contractAddresses),(0,W._)(this,$,e.eip712)}}var et=r(94972),er=r(59338),ea=r(11064),es=r(61270),en=r(91480),ei=r(71418),el=r(36654),eo=r(13381),ec=r(18527),ed=r(78265),eu=r(95582),em=r(57528),ep=r(91851),eh=r(62593);let ex=()=>{var e;let{storage:t}=(0,k.p)(),{provider:r,chainId:a,accounts:i,isConnected:l,connect:o,ethersSigner:c,ethersReadonlyProvider:d,sameChain:u,sameSigner:m,initialMockChains:p}=(0,F.z)(),[h,x]=(0,n.useState)("100"),[y,b]=(0,n.useState)("50"),[f,g]=(0,n.useState)(!1),{instance:w,status:v}=function(e){let{provider:t,chainId:r,initialMockChains:a,enabled:s=!0}=e,[i,l]=(0,n.useState)(void 0),[o,c]=(0,n.useState)("idle"),[d,u]=(0,n.useState)(void 0),[m,p]=(0,n.useState)(s),[h,x]=(0,n.useState)(0),y=(0,n.useRef)(null),b=(0,n.useRef)(t),f=(0,n.useRef)(r),g=(0,n.useRef)(a),w=(0,n.useCallback)(()=>{y.current&&(b.current=void 0,f.current=void 0,y.current.abort(),y.current=null),b.current=t,f.current=r,l(void 0),u(void 0),c("idle"),void 0!==t&&x(e=>e+1)},[t,r]);return(0,n.useEffect)(()=>{w()},[w]),(0,n.useEffect)(()=>{p(s)},[s]),(0,n.useEffect)(()=>{if(!1===m){console.log("cancelled"),y.current&&(y.current.abort(),y.current=null),l(void 0),u(void 0),c("idle");return}if(!0===m){if(void 0===b.current){l(void 0),u(void 0),c("idle");return}y.current||(y.current=new AbortController),E(!y.current.signal.aborted,"!controllerRef.current.signal.aborted"),c("loading"),u(void 0);let e=y.current.signal,t=b.current;A({signal:e,provider:t,mockChains:g.current,onStatusChange:e=>console.log("[useFhevm] createFhevmInstance status changed: ".concat(e))}).then(r=>{console.log("[useFhevm] createFhevmInstance created!"),e.aborted||(E(t===b.current,"thisProvider === _providerRef.current"),l(r),u(void 0),c("ready"))}).catch(r=>{console.log("Error Was thrown !!! error... "+r.name),e.aborted||(E(t===b.current,"thisProvider === _providerRef.current"),l(void 0),u(r),c("error"))})}},[m,h]),{instance:i,refresh:w,error:d,status:o}}({provider:r,chainId:a,initialMockChains:p,enabled:!0}),j=function(e){let{instance:t,fhevmDecryptionSignatureStorage:r,eip1193Provider:a,chainId:s,ethersSigner:i,ethersReadonlyProvider:l,sameChain:o,sameSigner:c}=e,[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(null),[h,x]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),[w,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(""),D=(0,n.useRef)(void 0),S=(0,n.useMemo)(()=>{let e=function(e){var t;if(!e)return{abi:P.abi};let r=I[e.toString()];return r&&"address"in r&&r.address!==C.j?{address:r.address,chainId:null!=(t=r.chainId)?t:e,chainName:r.chainName,abi:P.abi}:{abi:P.abi,chainId:e}}(s);return D.current=e,e.address||N("CipherWealth deployment not found for chainId=".concat(s,".")),e},[s]),_=(0,n.useMemo)(()=>S?!!S.address&&S.address!==C.j:null,[S]),K=!!(t&&S.address&&l&&i&&o.current(s)&&c.current(i)&&!y),A=!!(t&&S.address&&d&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==d&&a&&i&&o.current(s)&&c.current(i)&&!f&&!h),E=!!(t&&S.address&&a&&i&&o.current(s)&&c.current(i)&&!w),k=(0,n.useCallback)(async()=>{if(K&&S.address&&i){b(!0),N("Fetching encrypted balance...");try{let e=await i.getAddress(),t=new R.NZ(S.address,S.abi,l),r=await t.getBalance({from:e});u(r),x(!1),p(null),N("Balance handle retrieved successfully")}catch(e){console.error("Failed to get balance:",e),N("Error: ".concat(e.message||"Failed to get balance"))}finally{b(!1)}}},[K,S.address,S.abi,l,i]),F=(0,n.useCallback)(async()=>{if(A&&S.address&&t&&i){g(!0),N("Decrypting balance...");try{let e=S.address,a=await ee.loadOrSign(t,[e],i,r);if(!a)return void N("Unable to build FHEVM decryption signature");let s=(await t.userDecrypt([{handle:d,contractAddress:e}],a.privateKey,a.publicKey,a.signature,a.contractAddresses,a.userAddress,a.startTimestamp,a.durationDays))[d],n="bigint"==typeof s?s:BigInt(s);p(n),x(!0),N("Decrypted balance: ".concat(n.toString()))}catch(e){console.error("Failed to decrypt balance:",e),N("Decryption error: ".concat(e.message||"Failed to decrypt"))}finally{g(!1)}}},[A,S.address,t,d,i,r]),M=(0,n.useCallback)(async e=>{if(E&&S.address){v(!0),N("Depositing ".concat(e,"..."));try{let r=await i.getAddress(),a=S.address,s=await t.createEncryptedInput(a,r);s.add64(e);let{handles:n,inputProof:l}=await s.encrypt(),o=new R.NZ(a,S.abi,i),c=await o.deposit(n[0],l);await c.wait(),N("Successfully deposited ".concat(e)),x(!1),p(null),setTimeout(()=>k(),1e3)}catch(e){console.error("Failed to deposit:",e),N("Deposit error: ".concat(e.message||"Failed to deposit"))}finally{v(!1)}}},[E,t,S.address,S.abi,i,k]),T=(0,n.useCallback)(async e=>{if(E){v(!0),N("Withdrawing ".concat(e,"..."));try{let r=await i.getAddress(),a=S.address,s=await t.createEncryptedInput(a,r);s.add64(e);let{handles:n,inputProof:l}=await s.encrypt(),o=new R.NZ(a,S.abi,i),c=await o.withdraw(n[0],l);await c.wait(),N("Successfully withdrew ".concat(e)),x(!1),p(null),setTimeout(()=>k(),1e3)}catch(e){console.error("Failed to withdraw:",e),N("Withdrawal error: ".concat(e.message||"Failed to withdraw"))}finally{v(!1)}}},[E,t,S.address,S.abi,i,k]);return{contractAddress:S.address||null,isDeployed:_,balance:d,clear:m,isDecrypted:h,isRefreshing:y,isDecrypting:f,isOperating:w,canGetBalance:K,canDecrypt:A,canOperate:E,message:j,refreshBalance:k,decryptBalance:F,deposit:M,withdraw:T}}({instance:w,fhevmDecryptionSignatureStorage:t,eip1193Provider:r,chainId:a,ethersSigner:c,ethersReadonlyProvider:d,sameChain:u,sameSigner:m});return l?!1===j.isDeployed?function(e){return(0,s.jsx)("div",{className:"grid w-full gap-4 mx-auto font-semibold bg-none",children:(0,s.jsxs)("div",{className:"col-span-full mx-20",children:[(0,s.jsxs)("p",{className:"text-4xl leading-relaxed",children:[" ",(0,s.jsx)("span",{className:"font-mono bg-red-500",children:"Error"}),":"," ",(0,s.jsx)("span",{className:"font-mono bg-white",children:"CipherWealth.sol"})," Contract Not Deployed on"," ",(0,s.jsxs)("span",{className:"font-mono bg-white",children:["chainId=",e]})," ",0xaa36a7===e?"(Sepolia)":""," or Deployment Address Missing."]}),(0,s.jsxs)("p",{className:"text-xl leading-relaxed mt-8",children:["It appears that the"," ",(0,s.jsx)("span",{className:"font-mono bg-white",children:"CipherWealth.sol"})," contract has either not been deployed yet, or the deployment address is missing from the ABI directory"," ",(0,s.jsx)("span",{className:"font-mono bg-white",children:"frontend/abi"}),". To deploy ",(0,s.jsx)("span",{className:"font-mono bg-white",children:"CipherWealth.sol"})," on Sepolia, run the following command:"]}),(0,s.jsxs)("p",{className:"font-mono text-2xl leading-relaxed bg-black text-white p-4 mt-12",children:[(0,s.jsx)("span",{className:"opacity-50 italic text-red-500",children:"#from project root"}),(0,s.jsx)("br",{}),"npx hardhat deploy --network"," ",0xaa36a7===e?"sepolia":"your-network-name"]}),(0,s.jsxs)("p",{className:"text-xl leading-relaxed mt-12",children:["Alternatively, switch to the local"," ",(0,s.jsx)("span",{className:"font-mono bg-white",children:"Hardhat Node"})," using the MetaMask browser extension."]})]})})}(a):(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"card-highlight rounded-2xl p-8 relative overflow-hidden hover-lift",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-accent/10 rounded-full blur-[60px] translate-y-1/2 -translate-x-1/2"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center border border-primary/30",children:(0,s.jsx)(et.A,{className:"w-6 h-6 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:"\uD83D\uDCB0 Your Encrypted Balance"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secured by FHE Technology"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{className:"btn-secondary flex items-center gap-2",onClick:()=>g(!f),children:[f?(0,s.jsx)(ei.A,{className:"w-4 h-4"}):(0,s.jsx)(el.A,{className:"w-4 h-4"}),f?"Hide":"Show"]}),(0,s.jsxs)("button",{className:"btn-secondary flex items-center gap-2",disabled:!j.canGetBalance,onClick:j.refreshBalance,children:[(0,s.jsx)(eo.A,{className:"w-4 h-4 ".concat(j.isRefreshing?"animate-spin":"")}),"Refresh"]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-4",children:[(0,s.jsx)("span",{className:"text-6xl font-bold gradient-text",children:j.isDecrypted&&f?(null==(e=j.clear)?void 0:e.toString())||"0":"••••••"}),(0,s.jsx)("span",{className:"text-2xl text-muted-foreground",children:"tokens"}),j.isDecrypted&&(0,s.jsxs)("span",{className:"ml-auto flex items-center gap-2 text-success bg-success/10 px-3 py-1 rounded-full text-sm",children:[(0,s.jsx)(ec.A,{className:"w-4 h-4"}),"Decrypted"]})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 rounded-xl bg-muted/30 border border-border/50",children:[(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-2",children:[(0,s.jsx)(es.A,{className:"w-3 h-3"}),"Encrypted Handle (on-chain)"]}),(0,s.jsx)("p",{className:"font-mono text-xs break-all text-foreground/70",children:j.balance||"Fetching encrypted balance..."})]})]}),(0,s.jsx)("button",{className:"btn-premium w-full flex items-center justify-center gap-3 py-4 ".concat(j.isDecrypted?"bg-success hover:bg-success/90":""),disabled:!j.canDecrypt,onClick:j.decryptBalance,children:j.isDecrypting?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.A,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{children:"Decrypting via FHE..."}),(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD13"})]}):j.isDecrypted?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ed.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Balance Decrypted"}),(0,s.jsx)("span",{className:"text-lg",children:"✅"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Decrypt Balance"}),(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD10"})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"card-premium p-6 hover-lift animate-slide-up",style:{animationDelay:"0.1s"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-success/10 flex items-center justify-center border border-success/30",children:(0,s.jsx)(eu.A,{className:"w-6 h-6 text-success"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:"\uD83D\uDCB5 Deposit"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add funds to your vault"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDCB0"})," Amount to Deposit"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",className:"input-premium w-full pr-20",value:h,onChange:e=>x(e.target.value),placeholder:"Enter amount",min:"1"}),(0,s.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"tokens"})]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:[50,100,500,1e3].map(e=>(0,s.jsx)("button",{className:"flex-1 py-2 rounded-lg bg-muted/50 border border-border/50 text-sm font-medium hover:border-success/50 hover:bg-success/5 transition-all",onClick:()=>x(e.toString()),children:e},e))}),(0,s.jsx)("button",{className:"btn-premium w-full flex items-center justify-center gap-3 bg-success hover:bg-success/90",disabled:!j.canOperate||!h||0>=Number(h),onClick:()=>j.deposit(Number(h)),children:j.isOperating?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.A,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{children:"Processing..."}),(0,s.jsx)("span",{children:"⏳"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eu.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Deposit Now"}),(0,s.jsx)("span",{children:"\uD83D\uDE80"})]})})]})]}),(0,s.jsxs)("div",{className:"card-premium p-6 hover-lift animate-slide-up",style:{animationDelay:"0.2s"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center border border-accent/30",children:(0,s.jsx)(em.A,{className:"w-6 h-6 text-accent"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:"\uD83D\uDCB8 Withdraw"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Retrieve your funds"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDC8E"})," Amount to Withdraw"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",className:"input-premium w-full pr-20",value:y,onChange:e=>b(e.target.value),placeholder:"Enter amount",min:"1"}),(0,s.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"tokens"})]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:[25,50,100,"Max"].map(e=>(0,s.jsx)("button",{className:"flex-1 py-2 rounded-lg bg-muted/50 border border-border/50 text-sm font-medium hover:border-accent/50 hover:bg-accent/5 transition-all",onClick:()=>{"Max"===e&&j.clear?b(j.clear.toString()):"number"==typeof e&&b(e.toString())},children:e},e))}),(0,s.jsx)("button",{className:"btn-premium w-full flex items-center justify-center gap-3",style:{background:"linear-gradient(135deg, hsl(var(--accent)), hsl(35 93% 48%))"},disabled:!j.canOperate||!y||0>=Number(y),onClick:()=>j.withdraw(Number(y)),children:j.isOperating?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.A,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{children:"Processing..."}),(0,s.jsx)("span",{children:"⏳"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(em.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Withdraw Now"}),(0,s.jsx)("span",{children:"\uD83D\uDCAB"})]})})]})]})]}),j.message&&(0,s.jsx)("div",{className:"card-premium p-4 animate-scale-in border-l-4 border-primary",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ep.A,{className:"w-5 h-5 text-primary animate-pulse"}),(0,s.jsx)("p",{className:"text-sm text-foreground font-mono",children:j.message})]})}),(0,s.jsxs)("div",{className:"card-premium p-6 animate-slide-up",style:{animationDelay:"0.3s"},children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-foreground mb-6 flex items-center gap-2",children:[(0,s.jsx)(ea.A,{className:"w-5 h-5 text-primary"}),"Contract Information",(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDCCB"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:border-primary/30 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD17"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chain ID"})]}),(0,s.jsx)("p",{className:"font-mono font-bold text-xl text-foreground",children:a})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:border-primary/30 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD10"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"FHEVM Status"})]}),(0,s.jsx)("p",{className:"font-semibold text-xl text-foreground flex items-center gap-2",children:"ready"===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-success",children:"Active"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eh.A,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("span",{className:"text-accent",children:v})]})})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:border-primary/30 transition-colors md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDCDC"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract Address"})]}),(0,s.jsx)("p",{className:"font-mono text-sm break-all text-foreground",children:j.contractAddress})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:border-primary/30 transition-colors md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDC64"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your Address"})]}),(0,s.jsx)("p",{className:"font-mono text-sm break-all text-foreground",children:(null==i?void 0:i[0])||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-slide-up",style:{animationDelay:"0.4s"},children:[(0,s.jsxs)("div",{className:"card-premium p-5 text-center hover-lift",children:[(0,s.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDD12"}),(0,s.jsx)("h4",{className:"font-semibold text-foreground mb-1",children:"End-to-End Encrypted"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your balance is never exposed on-chain"})]}),(0,s.jsxs)("div",{className:"card-premium p-5 text-center hover-lift",children:[(0,s.jsx)("div",{className:"text-3xl mb-3",children:"⚡"}),(0,s.jsx)("h4",{className:"font-semibold text-foreground mb-1",children:"Instant Operations"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fast deposits and withdrawals"})]}),(0,s.jsxs)("div",{className:"card-premium p-5 text-center hover-lift",children:[(0,s.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDEE1️"}),(0,s.jsx)("h4",{className:"font-semibold text-foreground mb-1",children:"Zama FHE Powered"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Industry-leading encryption"})]})]})]}):(0,s.jsx)("div",{className:"max-w-lg mx-auto animate-fade-in",children:(0,s.jsxs)("div",{className:"card-premium p-10 text-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 text-3xl opacity-30 animate-float",children:"\uD83D\uDC8E"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-4 text-2xl opacity-20 animate-float",style:{animationDelay:"1s"},children:"\uD83D\uDD10"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center animate-pulse-glow",children:(0,s.jsx)(et.A,{className:"w-12 h-12 text-primary-foreground"})}),(0,s.jsx)("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-card rounded-xl flex items-center justify-center border border-border",children:(0,s.jsx)("span",{className:"text-xl",children:"✨"})})]})}),(0,s.jsx)("h2",{className:"text-3xl font-bold gradient-text mb-3",children:"Welcome to Cipher Wealth"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8 text-lg",children:"Your gateway to encrypted wealth management \uD83D\uDE80"}),(0,s.jsxs)("button",{className:"btn-premium w-full text-lg py-4 flex items-center justify-center gap-3",onClick:o,children:[(0,s.jsx)(et.A,{className:"w-5 h-5"}),"Connect Wallet",(0,s.jsx)(er.A,{className:"w-5 h-5"})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-border/50",children:[(0,s.jsx)(ea.A,{className:"w-5 h-5 text-primary mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"FHE Encrypted"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-border/50",children:[(0,s.jsx)(es.A,{className:"w-5 h-5 text-accent mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"100% Private"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-border/50",children:[(0,s.jsx)(en.A,{className:"w-5 h-5 text-success mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Instant Ops"})]})]})]})]})})}},81554:(e,t,r)=>{Promise.resolve().then(r.bind(r,42030))}},e=>{e.O(0,[3870,6786,8178,8441,1255,7358],()=>e(e.s=81554)),_N_E=e.O()}]);