{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useEip6963.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  Eip6963AnnounceProviderEvent,\n  Eip6963ProviderDetail,\n} from \"./Eip6963Types\";\n\nexport interface Eip6963State {\n  uuids: Record<string, Eip6963ProviderDetail> | undefined;\n  error: Error | undefined;\n  providers: Eip6963ProviderDetail[];\n}\n\nexport function useEip6963(): Eip6963State {\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [uuids, setUuids] = useState<\n    Record<string, Eip6963ProviderDetail> | undefined\n  >(undefined);\n  const activeLoadId = useRef(0);\n  const isListener = useRef<boolean>(false);\n  const providers = useMemo<Eip6963ProviderDetail[]>(() => uuids ? Object.values(uuids) : [], [uuids]);\n\n  // Never exported or exposed to a child\n  function _addUuidInternal(providerDetail: Eip6963ProviderDetail) {\n    // Exits immediately.\n    // Lazy call, will be executed in render phase.\n    setUuids((prev) => {\n      if (!prev) {\n        return { [providerDetail.info.uuid]: providerDetail };\n      }\n      const existing = prev[providerDetail.info.uuid];\n      if (\n        !!existing &&\n        existing.info.uuid === providerDetail.info.uuid &&\n        existing.info.name === providerDetail.info.name &&\n        existing.info.rdns === providerDetail.info.rdns &&\n        existing.info.icon === providerDetail.info.icon &&\n        existing.provider === providerDetail.provider\n      ) {\n        return prev;\n      }\n      if (existing) {\n        console.log(`addUuid(${providerDetail.info.uuid}) update existing.`);\n      } else {\n        console.log(`addUuid(${providerDetail.info.uuid}) add new.`);\n      }\n      return { ...prev, [providerDetail.info.uuid]: providerDetail };\n    });\n  }\n\n  useEffect(() => {\n    const thisLoadId = ++activeLoadId.current;\n\n    const onEip6963AnnounceProvider = (event: Event) => {\n      if (\"detail\" in event) {\n        const providerDetail = (event as Eip6963AnnounceProviderEvent).detail;\n        _addUuidInternal(providerDetail);\n      }\n    };\n\n    const run = async () => {\n      if (thisLoadId !== activeLoadId.current) {\n        return;\n      }\n\n      if (isListener.current) {\n        // Already listening to events\n        console.log(\"window is already listening!!!\");\n        return;\n      }\n\n      if (typeof window === \"undefined\") {\n        console.log(\"window is undefined!!!\");\n        return;\n      }\n\n      setError(undefined);\n\n      try {\n        window.addEventListener(\n          \"eip6963:announceProvider\",\n          onEip6963AnnounceProvider\n        );\n      } catch (e) {\n        setError(e instanceof Error ? e : new Error(String(e)));\n        return;\n      }\n\n      isListener.current = true;\n\n      try {\n        window.dispatchEvent(new Event(\"eip6963:requestProvider\"));\n      } catch (e) {\n        window.removeEventListener(\n          \"eip6963:announceProvider\",\n          onEip6963AnnounceProvider\n        );\n        setError(e instanceof Error ? e : new Error(String(e)));\n        isListener.current = false;\n      }\n    };\n\n    run();\n\n    // Unmount\n    return () => {\n      activeLoadId.current = activeLoadId.current + 1;\n      window.removeEventListener(\n        \"eip6963:announceProvider\",\n        onEip6963AnnounceProvider\n      );\n    };\n  }, []);\n\n  return { error, uuids, providers };\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAYO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAAoB;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAEhC;IACF,MAAM,eAAe,IAAA,mLAAM,EAAC;IAC5B,MAAM,aAAa,IAAA,mLAAM,EAAU;IACnC,MAAM,YAAY,IAAA,oLAAO;yCAA0B,IAAM,QAAQ,OAAO,MAAM,CAAC,SAAS,EAAE;wCAAE;QAAC;KAAM;IAEnG,uCAAuC;IACvC,SAAS,iBAAiB,cAAqC;QAC7D,qBAAqB;QACrB,+CAA+C;QAC/C,SAAS,CAAC;YACR,IAAI,CAAC,MAAM;gBACT,OAAO;oBAAE,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,EAAE;gBAAe;YACtD;YACA,MAAM,WAAW,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC;YAC/C,IACE,CAAC,CAAC,YACF,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,QAAQ,KAAK,eAAe,QAAQ,EAC7C;gBACA,OAAO;YACT;YACA,IAAI,UAAU;gBACZ,QAAQ,GAAG,CAAC,AAAC,WAAmC,OAAzB,eAAe,IAAI,CAAC,IAAI,EAAC;YAClD,OAAO;gBACL,QAAQ,GAAG,CAAC,AAAC,WAAmC,OAAzB,eAAe,IAAI,CAAC,IAAI,EAAC;YAClD;YACA,OAAO;gBAAE,GAAG,IAAI;gBAAE,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,EAAE;YAAe;QAC/D;IACF;IAEA,IAAA,sLAAS;gCAAC;YACR,MAAM,aAAa,EAAE,aAAa,OAAO;YAEzC,MAAM;kEAA4B,CAAC;oBACjC,IAAI,YAAY,OAAO;wBACrB,MAAM,iBAAiB,AAAC,MAAuC,MAAM;wBACrE,iBAAiB;oBACnB;gBACF;;YAEA,MAAM;4CAAM;oBACV,IAAI,eAAe,aAAa,OAAO,EAAE;wBACvC;oBACF;oBAEA,IAAI,WAAW,OAAO,EAAE;wBACtB,8BAA8B;wBAC9B,QAAQ,GAAG,CAAC;wBACZ;oBACF;oBAEA;;oBAKA,SAAS;oBAET,IAAI;wBACF,OAAO,gBAAgB,CACrB,4BACA;oBAEJ,EAAE,OAAO,GAAG;wBACV,SAAS,aAAa,QAAQ,IAAI,IAAI,MAAM,OAAO;wBACnD;oBACF;oBAEA,WAAW,OAAO,GAAG;oBAErB,IAAI;wBACF,OAAO,aAAa,CAAC,IAAI,MAAM;oBACjC,EAAE,OAAO,GAAG;wBACV,OAAO,mBAAmB,CACxB,4BACA;wBAEF,SAAS,aAAa,QAAQ,IAAI,IAAI,MAAM,OAAO;wBACnD,WAAW,OAAO,GAAG;oBACvB;gBACF;;YAEA;YAEA,UAAU;YACV;wCAAO;oBACL,aAAa,OAAO,GAAG,aAAa,OAAO,GAAG;oBAC9C,OAAO,mBAAmB,CACxB,4BACA;gBAEJ;;QACF;+BAAG,EAAE;IAEL,OAAO;QAAE;QAAO;QAAO;IAAU;AACnC;GAtGgB","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useMetaMaskProvider.tsx"],"sourcesContent":["import {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { Eip1193Provider, ethers } from \"ethers\";\nimport { useEip6963 } from \"./useEip6963\";\n\ninterface ProviderConnectInfo {\n  readonly chainId: string;\n}\n\ninterface ProviderRpcError extends Error {\n  message: string;\n  code: number;\n  data?: unknown;\n}\n\ntype ConnectListenerFn = (connectInfo: ProviderConnectInfo) => void;\ntype DisconnectListenerFn = (error: ProviderRpcError) => void;\ntype ChainChangedListenerFn = (chainId: string) => void;\ntype AccountsChangedListenerFn = (accounts: string[]) => void;\n\ntype Eip1193EventMap = {\n  connect: ConnectListenerFn;\n  chainChanged: ChainChangedListenerFn;\n  accountsChanged: AccountsChangedListenerFn;\n  disconnect: DisconnectListenerFn;\n};\n\ntype Eip1193EventFn = <E extends keyof Eip1193EventMap>(\n  event: E,\n  fn: Eip1193EventMap[E]\n) => void;\n\ninterface Eip1193ProviderWithEvent extends ethers.Eip1193Provider {\n  on?: Eip1193EventFn;\n  off?: Eip1193EventFn;\n  addListener?: Eip1193EventFn;\n  removeListener?: Eip1193EventFn;\n}\n\nexport interface UseMetaMaskState {\n  provider: Eip1193Provider | undefined;\n  chainId: number | undefined;\n  accounts: string[] | undefined;\n  isConnected: boolean;\n  error: Error | undefined;\n  connect: () => void;\n}\n\nfunction useMetaMaskInternal(): UseMetaMaskState {\n  const { error: eip6963Error, providers } = useEip6963();\n  const [_currentProvider, _setCurrentProvider] = useState<\n    Eip1193ProviderWithEvent | undefined\n  >(undefined);\n  const [chainId, _setChainId] = useState<number | undefined>(undefined);\n  const [accounts, _setAccounts] = useState<string[] | undefined>(undefined);\n\n  const connectListenerRef = useRef<ConnectListenerFn | undefined>(undefined);\n  const disconnectListenerRef = useRef<DisconnectListenerFn | undefined>(\n    undefined\n  );\n  const chainChangedListenerRef = useRef<ChainChangedListenerFn | undefined>(\n    undefined\n  );\n  const accountsChangedListenerRef = useRef<\n    AccountsChangedListenerFn | undefined\n  >(undefined);\n\n  const metaMaskProviderRef = useRef<Eip1193ProviderWithEvent | undefined>(\n    undefined\n  );\n\n  const hasProvider = Boolean(_currentProvider);\n  const hasAccounts = (accounts?.length ?? 0) > 0;\n  const hasChain = typeof chainId === \"number\";\n\n  const isConnected = hasProvider && hasAccounts && hasChain;\n\n  const connect = useCallback(() => {\n    if (!_currentProvider) {\n      return;\n    }\n\n    if (accounts && accounts.length > 0) {\n      // already connected\n      return;\n    }\n\n    // Prompt connection\n    _currentProvider.request({ method: \"eth_requestAccounts\" });\n  }, [_currentProvider, accounts]);\n\n  useEffect(() => {\n    let next: Eip1193ProviderWithEvent | undefined = undefined;\n    for (let i = 0; i < providers.length; ++i) {\n      if (providers[i].info.name.toLowerCase() === \"metamask\") {\n        next = providers[i].provider;\n        break;\n      }\n    }\n\n    const prev = metaMaskProviderRef.current;\n    if (prev === next) {\n      return;\n    }\n\n    if (prev) {\n      if (connectListenerRef.current) {\n        prev.off?.(\"connect\", connectListenerRef.current);\n        prev.removeListener?.(\"connect\", connectListenerRef.current);\n        connectListenerRef.current = undefined;\n      }\n\n      if (disconnectListenerRef.current) {\n        prev.off?.(\"disconnect\", disconnectListenerRef.current);\n        prev.removeListener?.(\"disconnect\", disconnectListenerRef.current);\n        disconnectListenerRef.current = undefined;\n      }\n\n      if (chainChangedListenerRef.current) {\n        prev.off?.(\"chainChanged\", chainChangedListenerRef.current);\n        prev.removeListener?.(\"chainChanged\", chainChangedListenerRef.current);\n        chainChangedListenerRef.current = undefined;\n      }\n\n      if (accountsChangedListenerRef.current) {\n        prev.off?.(\"accountsChanged\", accountsChangedListenerRef.current);\n        prev.removeListener?.(\n          \"accountsChanged\",\n          accountsChangedListenerRef.current\n        );\n        accountsChangedListenerRef.current = undefined;\n      }\n    }\n\n    _setCurrentProvider(undefined);\n    _setChainId(undefined);\n    _setAccounts(undefined);\n\n    metaMaskProviderRef.current = next;\n\n    let nextConnectListener: ConnectListenerFn | undefined = undefined;\n    let nextDisconnectListener: DisconnectListenerFn | undefined = undefined;\n    let nextChainChangedListener: ChainChangedListenerFn | undefined =\n      undefined;\n    let nextAccountsChangedListener: AccountsChangedListenerFn | undefined =\n      undefined;\n\n    connectListenerRef.current = undefined;\n    disconnectListenerRef.current = undefined;\n    chainChangedListenerRef.current = undefined;\n    accountsChangedListenerRef.current = undefined;\n\n    if (next) {\n      // Connect\n      nextConnectListener = (connectInfo: ProviderConnectInfo) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(\n          `[useMetaMask] on('connect') chainId=${connectInfo.chainId}`\n        );\n        // Synchronize provider and chainId\n        _setCurrentProvider(next);\n        _setChainId(Number.parseInt(connectInfo.chainId, 16));\n      };\n      connectListenerRef.current = nextConnectListener;\n\n      // Disconnect\n      nextDisconnectListener = (error: ProviderRpcError) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(`[useMetaMask] on('disconnect') error code=${error.code}`);\n        // Synchronize provider and chainId\n        _setCurrentProvider(undefined);\n        _setChainId(undefined);\n        _setAccounts(undefined);\n      };\n      disconnectListenerRef.current = nextDisconnectListener;\n\n      // ChainChanged\n      nextChainChangedListener = (chainId: string) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(`[useMetaMask] on('chainChanged') chainId=${chainId}`);\n        // Synchronize provider and chainId\n        _setCurrentProvider(next);\n        _setChainId(Number.parseInt(chainId, 16));\n      };\n      chainChangedListenerRef.current = nextChainChangedListener;\n\n      // AccountsChanged\n      nextAccountsChangedListener = (accounts: string[]) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(\n          `[useMetaMask] on('accountsChanged') accounts.length=${accounts.length}`\n        );\n        _setCurrentProvider(next);\n        _setAccounts(accounts);\n      };\n      accountsChangedListenerRef.current = nextAccountsChangedListener;\n\n      // One or the other\n      if (next.on) {\n        next.on(\"connect\", nextConnectListener);\n        next.on(\"disconnect\", nextDisconnectListener);\n        next.on(\"chainChanged\", nextChainChangedListener);\n        next.on?.(\"accountsChanged\", nextAccountsChangedListener);\n      } else {\n        next.addListener?.(\"connect\", nextConnectListener);\n        next.addListener?.(\"disconnect\", nextDisconnectListener);\n        next.addListener?.(\"chainChanged\", nextChainChangedListener);\n        next.addListener?.(\"accountsChanged\", nextAccountsChangedListener);\n      }\n\n      const updateChainId = async () => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n\n        try {\n          const [chainIdHex, accountsArray] = await Promise.all([\n            next.request({ method: \"eth_chainId\" }),\n            next.request({ method: \"eth_accounts\" }),\n          ]);\n\n          console.log(\n            `[useMetaMask] connected to chainId=${chainIdHex} accounts.length=${accountsArray.length}`\n          );\n\n          _setCurrentProvider(next);\n          _setChainId(Number.parseInt(chainIdHex, 16));\n          _setAccounts(accountsArray);\n        } catch {\n          console.log(`[useMetaMask] not connected!`);\n          _setCurrentProvider(next);\n          _setChainId(undefined);\n          _setAccounts(undefined);\n        }\n      };\n\n      updateChainId();\n    }\n  }, [providers]);\n\n  // Unmount\n  useEffect(() => {\n    return () => {\n      const current = metaMaskProviderRef.current;\n\n      if (current) {\n        const chainChangedListener = chainChangedListenerRef.current;\n        const accountsChangedListener = accountsChangedListenerRef.current;\n        const connectListener = connectListenerRef.current;\n        const disconnectListener = disconnectListenerRef.current;\n\n        if (connectListener) {\n          current.off?.(\"connect\", connectListener);\n          current.removeListener?.(\"connect\", connectListener);\n        }\n        if (disconnectListener) {\n          current.off?.(\"disconnect\", disconnectListener);\n          current.removeListener?.(\"disconnect\", disconnectListener);\n        }\n        if (chainChangedListener) {\n          current.off?.(\"chainChanged\", chainChangedListener);\n          current.removeListener?.(\"chainChanged\", chainChangedListener);\n        }\n        if (accountsChangedListener) {\n          current.off?.(\"accountsChanged\", accountsChangedListener);\n          current.removeListener?.(\"accountsChanged\", accountsChangedListener);\n        }\n      }\n\n      chainChangedListenerRef.current = undefined;\n      metaMaskProviderRef.current = undefined;\n    };\n  }, []);\n\n  return {\n    provider: _currentProvider,\n    chainId,\n    accounts,\n    isConnected,\n    error: eip6963Error,\n    connect,\n  };\n}\n\ninterface MetaMaskProviderProps {\n  children: ReactNode;\n}\n\nconst MetaMaskContext = createContext<UseMetaMaskState | undefined>(undefined);\n\nexport const MetaMaskProvider: React.FC<MetaMaskProviderProps> = ({\n  children,\n}) => {\n  const { provider, chainId, accounts, isConnected, error, connect } =\n    useMetaMaskInternal();\n  return (\n    <MetaMaskContext.Provider\n      value={{\n        provider,\n        chainId,\n        accounts,\n        isConnected,\n        error,\n        connect,\n      }}\n    >\n      {children}\n    </MetaMaskContext.Provider>\n  );\n};\n\nexport function useMetaMask() {\n  const context = useContext(MetaMaskContext);\n  if (context === undefined) {\n    throw new Error(\"useMetaMask must be used within a MetaMaskProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/fhevm/GenericStringStorage.ts"],"sourcesContent":["export interface GenericStringStorage {\n  getItem(key: string): string | Promise<string | null> | null;\n  setItem(key: string, value: string): void | Promise<void>;\n  removeItem(key: string): void | Promise<void>;\n}\n\nexport class GenericStringInMemoryStorage implements GenericStringStorage {\n  #store = new Map<string, string>();\n\n  getItem(key: string): string | Promise<string | null> | null {\n    return this.#store.has(key) ? this.#store.get(key)! : null;\n  }\n  setItem(key: string, value: string): void | Promise<void> {\n    this.#store.set(key, value);\n  }\n  removeItem(key: string): void | Promise<void> {\n    this.#store.delete(key);\n  }\n}\n"],"names":[],"mappings":";;;;;;;;IAOE;AADK,MAAM;IAGX,QAAQ,GAAW,EAA0C;QAC3D,OAAO,6LAAA,IAAI,EAAC,QAAO,GAAG,CAAC,OAAO,6LAAA,IAAI,EAAC,QAAO,GAAG,CAAC,OAAQ;IACxD;IACA,QAAQ,GAAW,EAAE,KAAa,EAAwB;QACxD,6LAAA,IAAI,EAAC,QAAO,GAAG,CAAC,KAAK;IACvB;IACA,WAAW,GAAW,EAAwB;QAC5C,6LAAA,IAAI,EAAC,QAAO,MAAM,CAAC;IACrB;;QAVA,oMAAA;;mBAAS,IAAI;;;AAWf","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/useInMemoryStorage.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\";\nimport {\n  GenericStringInMemoryStorage,\n  GenericStringStorage,\n} from \"@/fhevm/GenericStringStorage\";\n\ninterface UseInMemoryStorageState {\n  storage: GenericStringStorage;\n}\n\ninterface InMemoryStorageProviderProps {\n  children: ReactNode;\n}\n\nconst InMemoryStorageContext = createContext<\n  UseInMemoryStorageState | undefined\n>(undefined);\n\nexport const useInMemoryStorage = () => {\n  const context = useContext(InMemoryStorageContext);\n  if (!context) {\n    throw new Error(\n      \"useInMemoryStorage must be used within a InMemoryStorageProvider\"\n    );\n  }\n  return context;\n};\n\nexport const InMemoryStorageProvider: React.FC<\n  InMemoryStorageProviderProps\n> = ({ children }) => {\n  const [storage] = useState<GenericStringStorage>(\n    new GenericStringInMemoryStorage()\n  );\n  return (\n    <InMemoryStorageContext.Provider value={{ storage }}>\n      {children}\n    </InMemoryStorageContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;;AAaA,MAAM,uCAAyB,IAAA,0LAAa,EAE1C;AAEK,MAAM,qBAAqB;;IAChC,MAAM,UAAU,IAAA,uLAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IACA,OAAO;AACT;GARa;AAUN,MAAM,0BAET;QAAC,EAAE,QAAQ,EAAE;;IACf,MAAM,CAAC,QAAQ,GAAG,IAAA,qLAAQ,EACxB,IAAI,4KAA4B;IAElC,qBACE,yMAAC,uBAAuB,QAAQ;QAAC,OAAO;YAAE;QAAQ;kBAC/C;;;;;;AAGP;IAXa;KAAA","debugId":null}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useMetaMaskEthersSigner.tsx"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useMetaMask } from \"./useMetaMaskProvider\";\nimport {\n  createContext,\n  ReactNode,\n  RefObject,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\n\nexport interface UseMetaMaskEthersSignerState {\n  provider: ethers.Eip1193Provider | undefined;\n  chainId: number | undefined;\n  accounts: string[] | undefined;\n  isConnected: boolean;\n  error: Error | undefined;\n  connect: () => void;\n  sameChain: RefObject<(chainId: number | undefined) => boolean>;\n  sameSigner: RefObject<\n    (ethersSigner: ethers.JsonRpcSigner | undefined) => boolean\n  >;\n  ethersBrowserProvider: ethers.BrowserProvider | undefined;\n  ethersReadonlyProvider: ethers.ContractRunner | undefined;\n  ethersSigner: ethers.JsonRpcSigner | undefined;\n  initialMockChains: Readonly<Record<number, string>> | undefined;\n}\n\nfunction useMetaMaskEthersSignerInternal(parameters: { initialMockChains?: Readonly<Record<number, string>> }): UseMetaMaskEthersSignerState {\n  const { initialMockChains } = parameters;\n  const { provider, chainId, accounts, isConnected, connect, error } = useMetaMask();\n  const [ethersSigner, setEthersSigner] = useState<\n    ethers.JsonRpcSigner | undefined\n  >(undefined);\n  const [ethersBrowserProvider, setEthersBrowserProvider] = useState<\n    ethers.BrowserProvider | undefined\n  >(undefined);\n  const [ethersReadonlyProvider, setEthersReadonlyProvider] = useState<\n    ethers.ContractRunner | undefined\n  >(undefined);\n\n  const chainIdRef = useRef<number | undefined>(chainId);\n  const ethersSignerRef = useRef<ethers.JsonRpcSigner | undefined>(undefined);\n\n  const sameChain = useRef((chainId: number | undefined) => {\n    return chainId === chainIdRef.current;\n  });\n\n  const sameSigner = useRef(\n    (ethersSigner: ethers.JsonRpcSigner | undefined) => {\n      return ethersSigner === ethersSignerRef.current;\n    }\n  );\n\n  useEffect(() => {\n    chainIdRef.current = chainId;\n  }, [chainId]);\n\n  useEffect(() => {\n    if (\n      !provider ||\n      !chainId ||\n      !isConnected ||\n      !accounts ||\n      accounts.length === 0\n    ) {\n      ethersSignerRef.current = undefined;\n      setEthersSigner(undefined);\n      setEthersBrowserProvider(undefined);\n      setEthersReadonlyProvider(undefined);\n      return;\n    }\n\n    console.warn(`[useMetaMaskEthersSignerInternal] create new ethers.BrowserProvider(), chainId=${chainId}`);\n\n    const bp: ethers.BrowserProvider = new ethers.BrowserProvider(provider);\n    let rop: ethers.ContractRunner = bp;\n    const rpcUrl: string | undefined = initialMockChains?.[chainId];\n    if (rpcUrl) {\n      // Try to avoid using MetaMask Eip1193Provider for view functions in mock mode\n      // MetaMask keeps a cache value of all view function calls. When using a dev node, this can be problematic and \n      // lead to nasty bugs. See README for more infos.\n      rop = new ethers.JsonRpcProvider(rpcUrl);\n      console.warn(`[useMetaMaskEthersSignerInternal] create new readonly provider ethers.JsonRpcProvider(${rpcUrl}), chainId=${chainId}`);\n    } else {\n      console.warn(`[useMetaMaskEthersSignerInternal] use ethers.BrowserProvider() as readonly provider, chainId=${chainId}`);\n    }\n\n    const s = new ethers.JsonRpcSigner(bp, accounts[0]);\n    ethersSignerRef.current = s;\n    setEthersSigner(s);\n    setEthersBrowserProvider(bp);\n    setEthersReadonlyProvider(rop);\n  }, [provider, chainId, isConnected, accounts, initialMockChains]);\n\n  return {\n    sameChain,\n    sameSigner,\n    provider,\n    chainId,\n    accounts,\n    isConnected,\n    connect,\n    ethersBrowserProvider,\n    ethersReadonlyProvider,\n    ethersSigner,\n    error,\n    initialMockChains\n  };\n}\n\nconst MetaMaskEthersSignerContext = createContext<UseMetaMaskEthersSignerState | undefined>(\n  undefined\n);\n\ninterface MetaMaskEthersSignerProviderProps {\n  children: ReactNode;\n  initialMockChains: Readonly<Record<number, string>>;\n}\n\nexport const MetaMaskEthersSignerProvider: React.FC<MetaMaskEthersSignerProviderProps> = ({\n  children, initialMockChains\n}) => {\n  const props = useMetaMaskEthersSignerInternal({ initialMockChains });\n  return (\n    <MetaMaskEthersSignerContext.Provider value={props}>\n      {children}\n    </MetaMaskEthersSignerContext.Provider>\n  );\n};\n\nexport function useMetaMaskEthersSigner() {\n  const context = useContext(MetaMaskEthersSignerContext);\n  if (context === undefined) {\n    throw new Error(\"useMetaMaskEthersSigner must be used within a MetaMaskEthersSignerProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;;AA2BA,SAAS,gCAAgC,UAAoE;;IAC3G,MAAM,EAAE,iBAAiB,EAAE,GAAG;IAC9B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,uKAAW;IAChF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAE9C;IACF,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,qLAAQ,EAEhE;IACF,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,qLAAQ,EAElE;IAEF,MAAM,aAAa,IAAA,mLAAM,EAAqB;IAC9C,MAAM,kBAAkB,IAAA,mLAAM,EAAmC;IAEjE,MAAM,YAAY,IAAA,mLAAM;6DAAC,CAAC;YACxB,OAAO,YAAY,WAAW,OAAO;QACvC;;IAEA,MAAM,aAAa,IAAA,mLAAM;8DACvB,CAAC;YACC,OAAO,iBAAiB,gBAAgB,OAAO;QACjD;;IAGF,IAAA,sLAAS;qDAAC;YACR,WAAW,OAAO,GAAG;QACvB;oDAAG;QAAC;KAAQ;IAEZ,IAAA,sLAAS;qDAAC;YACR,IACE,CAAC,YACD,CAAC,WACD,CAAC,eACD,CAAC,YACD,SAAS,MAAM,KAAK,GACpB;gBACA,gBAAgB,OAAO,GAAG;gBAC1B,gBAAgB;gBAChB,yBAAyB;gBACzB,0BAA0B;gBAC1B;YACF;YAEA,QAAQ,IAAI,CAAC,AAAC,kFAAyF,OAAR;YAE/F,MAAM,KAA6B,IAAI,yMAAM,CAAC,eAAe,CAAC;YAC9D,IAAI,MAA6B;YACjC,MAAM,SAA6B,8BAAA,wCAAA,iBAAmB,CAAC,QAAQ;YAC/D,IAAI,QAAQ;gBACV,8EAA8E;gBAC9E,+GAA+G;gBAC/G,iDAAiD;gBACjD,MAAM,IAAI,yMAAM,CAAC,eAAe,CAAC;gBACjC,QAAQ,IAAI,CAAC,AAAC,yFAA4G,OAApB,QAAO,eAAqB,OAAR;YAC5H,OAAO;gBACL,QAAQ,IAAI,CAAC,AAAC,gGAAuG,OAAR;YAC/G;YAEA,MAAM,IAAI,IAAI,yMAAM,CAAC,aAAa,CAAC,IAAI,QAAQ,CAAC,EAAE;YAClD,gBAAgB,OAAO,GAAG;YAC1B,gBAAgB;YAChB,yBAAyB;YACzB,0BAA0B;QAC5B;oDAAG;QAAC;QAAU;QAAS;QAAa;QAAU;KAAkB;IAEhE,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAjFS;;QAE8D,uKAAW;;;AAiFlF,MAAM,4CAA8B,IAAA,0LAAa,EAC/C;AAQK,MAAM,+BAA4E;QAAC,EACxF,QAAQ,EAAE,iBAAiB,EAC5B;;IACC,MAAM,QAAQ,gCAAgC;QAAE;IAAkB;IAClE,qBACE,yMAAC,4BAA4B,QAAQ;QAAC,OAAO;kBAC1C;;;;;;AAGP;IATa;;QAGG;;;KAHH;AAWN,SAAS;;IACd,MAAM,UAAU,IAAA,uLAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport \"@rainbow-me/rainbowkit/styles.css\";\nimport type { ReactNode } from \"react\";\nimport { useState } from \"react\";\n\nimport { MetaMaskProvider } from \"@/hooks/metamask/useMetaMaskProvider\";\nimport { InMemoryStorageProvider } from \"@/hooks/useInMemoryStorage\";\nimport { MetaMaskEthersSignerProvider } from \"@/hooks/metamask/useMetaMaskEthersSigner\";\nimport { RainbowKitProvider } from \"@rainbow-me/rainbowkit\";\nimport { createConfig, http, WagmiProvider } from \"wagmi\";\nimport { injected } from \"wagmi/connectors\";\nimport { hardhat, sepolia } from \"wagmi/chains\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\ntype Props = {\n  children: ReactNode;\n};\n\nexport function Providers({ children }: Props) {\n  const [queryClient] = useState(() => new QueryClient());\n\n  // Build readonly RPC map for FHEVM usage (avoid routing reads via wallet)\n  const localUrl = process.env.NEXT_PUBLIC_LOCAL_RPC_URL || \"http://127.0.0.1:8545\";\n  // Prefer public Sepolia RPC that typically works in more regions.\n  // Can be overridden via NEXT_PUBLIC_SEPOLIA_RPC_URL.\n  const sepoliaUrl =\n    process.env.NEXT_PUBLIC_SEPOLIA_RPC_URL ||\n    \"https://rpc.sepolia.org\";\n  const readonlyRpcs: Record<number, string> = {\n    // Only map Hardhat to direct JSON-RPC in browser to avoid MetaMask caching on dev\n    // Do NOT map Sepolia here to prevent browser-side CORS issues; use wallet for reads instead\n    31337: localUrl,\n  };\n\n  // Wagmi + RainbowKit\n  // Important: Provide transports for the full union of possible chain ids\n  // even if Sepolia is not included in `chains`, to satisfy Wagmi's typing.\n  const transports = {\n    [hardhat.id]: http(localUrl),\n    [sepolia.id]: http(sepoliaUrl),\n  } as const;\n\n  // Always include Sepolia in chain list so RainbowKit modal shows both\n  const chains = [hardhat, sepolia] as const;\n\n  const wagmiConfig = createConfig({\n    chains,\n    connectors: [injected()],\n    transports,\n    ssr: true,\n  });\n\n  return (\n    <WagmiProvider config={wagmiConfig}>\n      <QueryClientProvider client={queryClient}>\n        <RainbowKitProvider>\n          <MetaMaskProvider>\n            <MetaMaskEthersSignerProvider initialMockChains={readonlyRpcs}>\n              <InMemoryStorageProvider>{children}</InMemoryStorageProvider>\n            </MetaMaskEthersSignerProvider>\n          </MetaMaskProvider>\n        </RainbowKitProvider>\n      </QueryClientProvider>\n    </WagmiProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAuBmB;;AAnBnB;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;;;AAbA;;;;;;;;;;;AAmBO,SAAS,UAAU,KAAmB;QAAnB,EAAE,QAAQ,EAAS,GAAnB;;IACxB,MAAM,CAAC,YAAY,GAAG,IAAA,qLAAQ;8BAAC,IAAM,IAAI,2MAAW;;IAEpD,0EAA0E;IAC1E,MAAM,WAAW,uLAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;IAC1D,kEAAkE;IAClE,qDAAqD;IACrD,MAAM,aACJ,uLAAO,CAAC,GAAG,CAAC,2BAA2B,IACvC;IACF,MAAM,eAAuC;QAC3C,kFAAkF;QAClF,4FAA4F;QAC5F,OAAO;IACT;IAEA,qBAAqB;IACrB,yEAAyE;IACzE,0EAA0E;IAC1E,MAAM,aAAa;QACjB,CAAC,0LAAO,CAAC,EAAE,CAAC,EAAE,IAAA,oLAAI,EAAC;QACnB,CAAC,0LAAO,CAAC,EAAE,CAAC,EAAE,IAAA,oLAAI,EAAC;IACrB;IAEA,sEAAsE;IACtE,MAAM,SAAS;QAAC,0LAAO;QAAE,0LAAO;KAAC;IAEjC,MAAM,cAAc,IAAA,6LAAY,EAAC;QAC/B;QACA,YAAY;YAAC,IAAA,mMAAQ;SAAG;QACxB;QACA,KAAK;IACP;IAEA,qBACE,yMAAC,+KAAa;QAAC,QAAQ;kBACrB,cAAA,yMAAC,4NAAmB;YAAC,QAAQ;sBAC3B,cAAA,yMAAC,mNAAkB;0BACjB,cAAA,yMAAC,4KAAgB;8BACf,cAAA,yMAAC,4LAA4B;wBAAC,mBAAmB;kCAC/C,cAAA,yMAAC,sKAAuB;sCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC;GA/CgB;KAAA","debugId":null}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/components/ConnectWalletTopRight.tsx"],"sourcesContent":["\"use client\";\n\nimport { ConnectButton } from \"@rainbow-me/rainbowkit\";\nimport { Wallet, ChevronDown } from \"lucide-react\";\n\nexport function ConnectWalletTopRight() {\n  return (\n    <ConnectButton.Custom>\n      {({\n        account,\n        chain,\n        openAccountModal,\n        openChainModal,\n        openConnectModal,\n        mounted,\n      }) => {\n        const ready = mounted;\n        const connected = ready && account && chain;\n\n        return (\n          <div\n            {...(!ready && {\n              'aria-hidden': true,\n              style: {\n                opacity: 0,\n                pointerEvents: 'none',\n                userSelect: 'none',\n              },\n            })}\n          >\n            {(() => {\n              if (!connected) {\n                return (\n                  <button\n                    onClick={openConnectModal}\n                    className=\"btn-premium flex items-center gap-2 px-5 py-2.5\"\n                  >\n                    <Wallet className=\"w-4 h-4\" />\n                    <span>Connect</span>\n                    <span className=\"text-sm\">‚ú®</span>\n                  </button>\n                );\n              }\n\n              if (chain.unsupported) {\n                return (\n                  <button \n                    onClick={openChainModal}\n                    className=\"px-4 py-2.5 rounded-xl bg-danger text-danger-foreground font-semibold flex items-center gap-2 hover:bg-danger/90 transition-all\"\n                  >\n                    <span>‚ö†Ô∏è</span>\n                    Wrong Network\n                    <ChevronDown className=\"w-4 h-4\" />\n                  </button>\n                );\n              }\n\n              return (\n                <div className=\"flex items-center gap-2\">\n                  {/* Chain Button */}\n                  <button\n                    onClick={openChainModal}\n                    className=\"glass px-3 py-2 rounded-xl flex items-center gap-2 hover:border-primary/50 transition-all\"\n                  >\n                    {chain.hasIcon && (\n                      <div\n                        className=\"w-5 h-5 rounded-full overflow-hidden\"\n                        style={{ background: chain.iconBackground }}\n                      >\n                        {chain.iconUrl && (\n                          <img\n                            alt={chain.name ?? 'Chain icon'}\n                            src={chain.iconUrl}\n                            className=\"w-5 h-5\"\n                          />\n                        )}\n                      </div>\n                    )}\n                    <span className=\"text-sm font-medium hidden sm:inline\">{chain.name}</span>\n                    <ChevronDown className=\"w-3 h-3 text-muted-foreground\" />\n                  </button>\n\n                  {/* Account Button */}\n                  <button\n                    onClick={openAccountModal}\n                    className=\"glass px-4 py-2 rounded-xl flex items-center gap-2 hover:border-primary/50 transition-all group\"\n                  >\n                    <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center\">\n                      <span className=\"text-xs\">üë§</span>\n                    </div>\n                    <span className=\"text-sm font-medium\">{account.displayName}</span>\n                    {account.displayBalance && (\n                      <span className=\"text-xs text-muted-foreground hidden md:inline\">\n                        ({account.displayBalance})\n                      </span>\n                    )}\n                    <ChevronDown className=\"w-3 h-3 text-muted-foreground group-hover:text-primary transition-colors\" />\n                  </button>\n                </div>\n              );\n            })()}\n          </div>\n        );\n      }}\n    </ConnectButton.Custom>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKO,SAAS;IACd,qBACE,yMAAC,8MAAa,CAAC,MAAM;kBAClB;gBAAC,EACA,OAAO,EACP,KAAK,EACL,gBAAgB,EAChB,cAAc,EACd,gBAAgB,EAChB,OAAO,EACR;YACC,MAAM,QAAQ;YACd,MAAM,YAAY,SAAS,WAAW;YAEtC,qBACE,yMAAC;gBACE,GAAI,CAAC,SAAS;oBACb,eAAe;oBACf,OAAO;wBACL,SAAS;wBACT,eAAe;wBACf,YAAY;oBACd;gBACF,CAAC;0BAEA,CAAC;oBACA,IAAI,CAAC,WAAW;wBACd,qBACE,yMAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,yMAAC,+NAAM;oCAAC,WAAU;;;;;;8CAClB,yMAAC;8CAAK;;;;;;8CACN,yMAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;oBAGhC;oBAEA,IAAI,MAAM,WAAW,EAAE;wBACrB,qBACE,yMAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,yMAAC;8CAAK;;;;;;gCAAS;8CAEf,yMAAC,kPAAW;oCAAC,WAAU;;;;;;;;;;;;oBAG7B;wBAgBmB;oBAdnB,qBACE,yMAAC;wBAAI,WAAU;;0CAEb,yMAAC;gCACC,SAAS;gCACT,WAAU;;oCAET,MAAM,OAAO,kBACZ,yMAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,YAAY,MAAM,cAAc;wCAAC;kDAEzC,MAAM,OAAO,kBACZ,yMAAC;4CACC,KAAK,CAAA,cAAA,MAAM,IAAI,cAAV,yBAAA,cAAc;4CACnB,KAAK,MAAM,OAAO;4CAClB,WAAU;;;;;;;;;;;kDAKlB,yMAAC;wCAAK,WAAU;kDAAwC,MAAM,IAAI;;;;;;kDAClE,yMAAC,kPAAW;wCAAC,WAAU;;;;;;;;;;;;0CAIzB,yMAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,yMAAC;wCAAI,WAAU;kDACb,cAAA,yMAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;kDAE5B,yMAAC;wCAAK,WAAU;kDAAuB,QAAQ,WAAW;;;;;;oCACzD,QAAQ,cAAc,kBACrB,yMAAC;wCAAK,WAAU;;4CAAiD;4CAC7D,QAAQ,cAAc;4CAAC;;;;;;;kDAG7B,yMAAC,kPAAW;wCAAC,WAAU;;;;;;;;;;;;;;;;;;gBAI/B,CAAC;;;;;;QAGP;;;;;;AAGN;KArGgB","debugId":null}}]
}