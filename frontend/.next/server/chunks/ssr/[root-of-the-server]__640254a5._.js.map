{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useEip6963.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  Eip6963AnnounceProviderEvent,\n  Eip6963ProviderDetail,\n} from \"./Eip6963Types\";\n\nexport interface Eip6963State {\n  uuids: Record<string, Eip6963ProviderDetail> | undefined;\n  error: Error | undefined;\n  providers: Eip6963ProviderDetail[];\n}\n\nexport function useEip6963(): Eip6963State {\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [uuids, setUuids] = useState<\n    Record<string, Eip6963ProviderDetail> | undefined\n  >(undefined);\n  const activeLoadId = useRef(0);\n  const isListener = useRef<boolean>(false);\n  const providers = useMemo<Eip6963ProviderDetail[]>(() => uuids ? Object.values(uuids) : [], [uuids]);\n\n  // Never exported or exposed to a child\n  function _addUuidInternal(providerDetail: Eip6963ProviderDetail) {\n    // Exits immediately.\n    // Lazy call, will be executed in render phase.\n    setUuids((prev) => {\n      if (!prev) {\n        return { [providerDetail.info.uuid]: providerDetail };\n      }\n      const existing = prev[providerDetail.info.uuid];\n      if (\n        !!existing &&\n        existing.info.uuid === providerDetail.info.uuid &&\n        existing.info.name === providerDetail.info.name &&\n        existing.info.rdns === providerDetail.info.rdns &&\n        existing.info.icon === providerDetail.info.icon &&\n        existing.provider === providerDetail.provider\n      ) {\n        return prev;\n      }\n      if (existing) {\n        console.log(`addUuid(${providerDetail.info.uuid}) update existing.`);\n      } else {\n        console.log(`addUuid(${providerDetail.info.uuid}) add new.`);\n      }\n      return { ...prev, [providerDetail.info.uuid]: providerDetail };\n    });\n  }\n\n  useEffect(() => {\n    const thisLoadId = ++activeLoadId.current;\n\n    const onEip6963AnnounceProvider = (event: Event) => {\n      if (\"detail\" in event) {\n        const providerDetail = (event as Eip6963AnnounceProviderEvent).detail;\n        _addUuidInternal(providerDetail);\n      }\n    };\n\n    const run = async () => {\n      if (thisLoadId !== activeLoadId.current) {\n        return;\n      }\n\n      if (isListener.current) {\n        // Already listening to events\n        console.log(\"window is already listening!!!\");\n        return;\n      }\n\n      if (typeof window === \"undefined\") {\n        console.log(\"window is undefined!!!\");\n        return;\n      }\n\n      setError(undefined);\n\n      try {\n        window.addEventListener(\n          \"eip6963:announceProvider\",\n          onEip6963AnnounceProvider\n        );\n      } catch (e) {\n        setError(e instanceof Error ? e : new Error(String(e)));\n        return;\n      }\n\n      isListener.current = true;\n\n      try {\n        window.dispatchEvent(new Event(\"eip6963:requestProvider\"));\n      } catch (e) {\n        window.removeEventListener(\n          \"eip6963:announceProvider\",\n          onEip6963AnnounceProvider\n        );\n        setError(e instanceof Error ? e : new Error(String(e)));\n        isListener.current = false;\n      }\n    };\n\n    run();\n\n    // Unmount\n    return () => {\n      activeLoadId.current = activeLoadId.current + 1;\n      window.removeEventListener(\n        \"eip6963:announceProvider\",\n        onEip6963AnnounceProvider\n      );\n    };\n  }, []);\n\n  return { error, uuids, providers };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAYO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAoB;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAEhC;IACF,MAAM,eAAe,IAAA,2NAAM,EAAC;IAC5B,MAAM,aAAa,IAAA,2NAAM,EAAU;IACnC,MAAM,YAAY,IAAA,4NAAO,EAA0B,IAAM,QAAQ,OAAO,MAAM,CAAC,SAAS,EAAE,EAAE;QAAC;KAAM;IAEnG,uCAAuC;IACvC,SAAS,iBAAiB,cAAqC;QAC7D,qBAAqB;QACrB,+CAA+C;QAC/C,SAAS,CAAC;YACR,IAAI,CAAC,MAAM;gBACT,OAAO;oBAAE,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,EAAE;gBAAe;YACtD;YACA,MAAM,WAAW,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC;YAC/C,IACE,CAAC,CAAC,YACF,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,IAAI,CAAC,IAAI,KAAK,eAAe,IAAI,CAAC,IAAI,IAC/C,SAAS,QAAQ,KAAK,eAAe,QAAQ,EAC7C;gBACA,OAAO;YACT;YACA,IAAI,UAAU;gBACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,EAAE,eAAe,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC;YACrE,OAAO;gBACL,QAAQ,GAAG,CAAC,CAAC,QAAQ,EAAE,eAAe,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YAC7D;YACA,OAAO;gBAAE,GAAG,IAAI;gBAAE,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,EAAE;YAAe;QAC/D;IACF;IAEA,IAAA,8NAAS,EAAC;QACR,MAAM,aAAa,EAAE,aAAa,OAAO;QAEzC,MAAM,4BAA4B,CAAC;YACjC,IAAI,YAAY,OAAO;gBACrB,MAAM,iBAAiB,AAAC,MAAuC,MAAM;gBACrE,iBAAiB;YACnB;QACF;QAEA,MAAM,MAAM;YACV,IAAI,eAAe,aAAa,OAAO,EAAE;gBACvC;YACF;YAEA,IAAI,WAAW,OAAO,EAAE;gBACtB,8BAA8B;gBAC9B,QAAQ,GAAG,CAAC;gBACZ;YACF;YAEA,wCAAmC;gBACjC,QAAQ,GAAG,CAAC;gBACZ;YACF;;;QA0BF;QAEA;QAEA,UAAU;QACV,OAAO;YACL,aAAa,OAAO,GAAG,aAAa,OAAO,GAAG;YAC9C,OAAO,mBAAmB,CACxB,4BACA;QAEJ;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAO;QAAO;IAAU;AACnC","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useMetaMaskProvider.tsx"],"sourcesContent":["import {\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { Eip1193Provider, ethers } from \"ethers\";\nimport { useEip6963 } from \"./useEip6963\";\n\ninterface ProviderConnectInfo {\n  readonly chainId: string;\n}\n\ninterface ProviderRpcError extends Error {\n  message: string;\n  code: number;\n  data?: unknown;\n}\n\ntype ConnectListenerFn = (connectInfo: ProviderConnectInfo) => void;\ntype DisconnectListenerFn = (error: ProviderRpcError) => void;\ntype ChainChangedListenerFn = (chainId: string) => void;\ntype AccountsChangedListenerFn = (accounts: string[]) => void;\n\ntype Eip1193EventMap = {\n  connect: ConnectListenerFn;\n  chainChanged: ChainChangedListenerFn;\n  accountsChanged: AccountsChangedListenerFn;\n  disconnect: DisconnectListenerFn;\n};\n\ntype Eip1193EventFn = <E extends keyof Eip1193EventMap>(\n  event: E,\n  fn: Eip1193EventMap[E]\n) => void;\n\ninterface Eip1193ProviderWithEvent extends ethers.Eip1193Provider {\n  on?: Eip1193EventFn;\n  off?: Eip1193EventFn;\n  addListener?: Eip1193EventFn;\n  removeListener?: Eip1193EventFn;\n}\n\nexport interface UseMetaMaskState {\n  provider: Eip1193Provider | undefined;\n  chainId: number | undefined;\n  accounts: string[] | undefined;\n  isConnected: boolean;\n  error: Error | undefined;\n  connect: () => void;\n}\n\nfunction useMetaMaskInternal(): UseMetaMaskState {\n  const { error: eip6963Error, providers } = useEip6963();\n  const [_currentProvider, _setCurrentProvider] = useState<\n    Eip1193ProviderWithEvent | undefined\n  >(undefined);\n  const [chainId, _setChainId] = useState<number | undefined>(undefined);\n  const [accounts, _setAccounts] = useState<string[] | undefined>(undefined);\n\n  const connectListenerRef = useRef<ConnectListenerFn | undefined>(undefined);\n  const disconnectListenerRef = useRef<DisconnectListenerFn | undefined>(\n    undefined\n  );\n  const chainChangedListenerRef = useRef<ChainChangedListenerFn | undefined>(\n    undefined\n  );\n  const accountsChangedListenerRef = useRef<\n    AccountsChangedListenerFn | undefined\n  >(undefined);\n\n  const metaMaskProviderRef = useRef<Eip1193ProviderWithEvent | undefined>(\n    undefined\n  );\n\n  const hasProvider = Boolean(_currentProvider);\n  const hasAccounts = (accounts?.length ?? 0) > 0;\n  const hasChain = typeof chainId === \"number\";\n\n  const isConnected = hasProvider && hasAccounts && hasChain;\n\n  const connect = useCallback(() => {\n    if (!_currentProvider) {\n      return;\n    }\n\n    if (accounts && accounts.length > 0) {\n      // already connected\n      return;\n    }\n\n    // Prompt connection\n    _currentProvider.request({ method: \"eth_requestAccounts\" });\n  }, [_currentProvider, accounts]);\n\n  useEffect(() => {\n    let next: Eip1193ProviderWithEvent | undefined = undefined;\n    for (let i = 0; i < providers.length; ++i) {\n      if (providers[i].info.name.toLowerCase() === \"metamask\") {\n        next = providers[i].provider;\n        break;\n      }\n    }\n\n    const prev = metaMaskProviderRef.current;\n    if (prev === next) {\n      return;\n    }\n\n    if (prev) {\n      if (connectListenerRef.current) {\n        prev.off?.(\"connect\", connectListenerRef.current);\n        prev.removeListener?.(\"connect\", connectListenerRef.current);\n        connectListenerRef.current = undefined;\n      }\n\n      if (disconnectListenerRef.current) {\n        prev.off?.(\"disconnect\", disconnectListenerRef.current);\n        prev.removeListener?.(\"disconnect\", disconnectListenerRef.current);\n        disconnectListenerRef.current = undefined;\n      }\n\n      if (chainChangedListenerRef.current) {\n        prev.off?.(\"chainChanged\", chainChangedListenerRef.current);\n        prev.removeListener?.(\"chainChanged\", chainChangedListenerRef.current);\n        chainChangedListenerRef.current = undefined;\n      }\n\n      if (accountsChangedListenerRef.current) {\n        prev.off?.(\"accountsChanged\", accountsChangedListenerRef.current);\n        prev.removeListener?.(\n          \"accountsChanged\",\n          accountsChangedListenerRef.current\n        );\n        accountsChangedListenerRef.current = undefined;\n      }\n    }\n\n    _setCurrentProvider(undefined);\n    _setChainId(undefined);\n    _setAccounts(undefined);\n\n    metaMaskProviderRef.current = next;\n\n    let nextConnectListener: ConnectListenerFn | undefined = undefined;\n    let nextDisconnectListener: DisconnectListenerFn | undefined = undefined;\n    let nextChainChangedListener: ChainChangedListenerFn | undefined =\n      undefined;\n    let nextAccountsChangedListener: AccountsChangedListenerFn | undefined =\n      undefined;\n\n    connectListenerRef.current = undefined;\n    disconnectListenerRef.current = undefined;\n    chainChangedListenerRef.current = undefined;\n    accountsChangedListenerRef.current = undefined;\n\n    if (next) {\n      // Connect\n      nextConnectListener = (connectInfo: ProviderConnectInfo) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(\n          `[useMetaMask] on('connect') chainId=${connectInfo.chainId}`\n        );\n        // Synchronize provider and chainId\n        _setCurrentProvider(next);\n        _setChainId(Number.parseInt(connectInfo.chainId, 16));\n      };\n      connectListenerRef.current = nextConnectListener;\n\n      // Disconnect\n      nextDisconnectListener = (error: ProviderRpcError) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(`[useMetaMask] on('disconnect') error code=${error.code}`);\n        // Synchronize provider and chainId\n        _setCurrentProvider(undefined);\n        _setChainId(undefined);\n        _setAccounts(undefined);\n      };\n      disconnectListenerRef.current = nextDisconnectListener;\n\n      // ChainChanged\n      nextChainChangedListener = (chainId: string) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(`[useMetaMask] on('chainChanged') chainId=${chainId}`);\n        // Synchronize provider and chainId\n        _setCurrentProvider(next);\n        _setChainId(Number.parseInt(chainId, 16));\n      };\n      chainChangedListenerRef.current = nextChainChangedListener;\n\n      // AccountsChanged\n      nextAccountsChangedListener = (accounts: string[]) => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n        console.log(\n          `[useMetaMask] on('accountsChanged') accounts.length=${accounts.length}`\n        );\n        _setCurrentProvider(next);\n        _setAccounts(accounts);\n      };\n      accountsChangedListenerRef.current = nextAccountsChangedListener;\n\n      // One or the other\n      if (next.on) {\n        next.on(\"connect\", nextConnectListener);\n        next.on(\"disconnect\", nextDisconnectListener);\n        next.on(\"chainChanged\", nextChainChangedListener);\n        next.on?.(\"accountsChanged\", nextAccountsChangedListener);\n      } else {\n        next.addListener?.(\"connect\", nextConnectListener);\n        next.addListener?.(\"disconnect\", nextDisconnectListener);\n        next.addListener?.(\"chainChanged\", nextChainChangedListener);\n        next.addListener?.(\"accountsChanged\", nextAccountsChangedListener);\n      }\n\n      const updateChainId = async () => {\n        if (next !== metaMaskProviderRef.current) {\n          return;\n        }\n\n        try {\n          const [chainIdHex, accountsArray] = await Promise.all([\n            next.request({ method: \"eth_chainId\" }),\n            next.request({ method: \"eth_accounts\" }),\n          ]);\n\n          console.log(\n            `[useMetaMask] connected to chainId=${chainIdHex} accounts.length=${accountsArray.length}`\n          );\n\n          _setCurrentProvider(next);\n          _setChainId(Number.parseInt(chainIdHex, 16));\n          _setAccounts(accountsArray);\n        } catch {\n          console.log(`[useMetaMask] not connected!`);\n          _setCurrentProvider(next);\n          _setChainId(undefined);\n          _setAccounts(undefined);\n        }\n      };\n\n      updateChainId();\n    }\n  }, [providers]);\n\n  // Unmount\n  useEffect(() => {\n    return () => {\n      const current = metaMaskProviderRef.current;\n\n      if (current) {\n        const chainChangedListener = chainChangedListenerRef.current;\n        const accountsChangedListener = accountsChangedListenerRef.current;\n        const connectListener = connectListenerRef.current;\n        const disconnectListener = disconnectListenerRef.current;\n\n        if (connectListener) {\n          current.off?.(\"connect\", connectListener);\n          current.removeListener?.(\"connect\", connectListener);\n        }\n        if (disconnectListener) {\n          current.off?.(\"disconnect\", disconnectListener);\n          current.removeListener?.(\"disconnect\", disconnectListener);\n        }\n        if (chainChangedListener) {\n          current.off?.(\"chainChanged\", chainChangedListener);\n          current.removeListener?.(\"chainChanged\", chainChangedListener);\n        }\n        if (accountsChangedListener) {\n          current.off?.(\"accountsChanged\", accountsChangedListener);\n          current.removeListener?.(\"accountsChanged\", accountsChangedListener);\n        }\n      }\n\n      chainChangedListenerRef.current = undefined;\n      metaMaskProviderRef.current = undefined;\n    };\n  }, []);\n\n  return {\n    provider: _currentProvider,\n    chainId,\n    accounts,\n    isConnected,\n    error: eip6963Error,\n    connect,\n  };\n}\n\ninterface MetaMaskProviderProps {\n  children: ReactNode;\n}\n\nconst MetaMaskContext = createContext<UseMetaMaskState | undefined>(undefined);\n\nexport const MetaMaskProvider: React.FC<MetaMaskProviderProps> = ({\n  children,\n}) => {\n  const { provider, chainId, accounts, isConnected, error, connect } =\n    useMetaMaskInternal();\n  return (\n    <MetaMaskContext.Provider\n      value={{\n        provider,\n        chainId,\n        accounts,\n        isConnected,\n        error,\n        connect,\n      }}\n    >\n      {children}\n    </MetaMaskContext.Provider>\n  );\n};\n\nexport function useMetaMask() {\n  const context = useContext(MetaMaskContext);\n  if (context === undefined) {\n    throw new Error(\"useMetaMask must be used within a MetaMaskProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/fhevm/GenericStringStorage.ts"],"sourcesContent":["export interface GenericStringStorage {\n  getItem(key: string): string | Promise<string | null> | null;\n  setItem(key: string, value: string): void | Promise<void>;\n  removeItem(key: string): void | Promise<void>;\n}\n\nexport class GenericStringInMemoryStorage implements GenericStringStorage {\n  #store = new Map<string, string>();\n\n  getItem(key: string): string | Promise<string | null> | null {\n    return this.#store.has(key) ? this.#store.get(key)! : null;\n  }\n  setItem(key: string, value: string): void | Promise<void> {\n    this.#store.set(key, value);\n  }\n  removeItem(key: string): void | Promise<void> {\n    this.#store.delete(key);\n  }\n}\n"],"names":[],"mappings":";;;;AAMO,MAAM;IACX,CAAA,KAAM,GAAG,IAAI,MAAsB;IAEnC,QAAQ,GAAW,EAA0C;QAC3D,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,OAAQ;IACxD;IACA,QAAQ,GAAW,EAAE,KAAa,EAAwB;QACxD,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,KAAK;IACvB;IACA,WAAW,GAAW,EAAwB;QAC5C,IAAI,CAAC,CAAA,KAAM,CAAC,MAAM,CAAC;IACrB;AACF","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/useInMemoryStorage.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\";\nimport {\n  GenericStringInMemoryStorage,\n  GenericStringStorage,\n} from \"@/fhevm/GenericStringStorage\";\n\ninterface UseInMemoryStorageState {\n  storage: GenericStringStorage;\n}\n\ninterface InMemoryStorageProviderProps {\n  children: ReactNode;\n}\n\nconst InMemoryStorageContext = createContext<\n  UseInMemoryStorageState | undefined\n>(undefined);\n\nexport const useInMemoryStorage = () => {\n  const context = useContext(InMemoryStorageContext);\n  if (!context) {\n    throw new Error(\n      \"useInMemoryStorage must be used within a InMemoryStorageProvider\"\n    );\n  }\n  return context;\n};\n\nexport const InMemoryStorageProvider: React.FC<\n  InMemoryStorageProviderProps\n> = ({ children }) => {\n  const [storage] = useState<GenericStringStorage>(\n    new GenericStringInMemoryStorage()\n  );\n  return (\n    <InMemoryStorageContext.Provider value={{ storage }}>\n      {children}\n    </InMemoryStorageContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAaA,MAAM,uCAAyB,IAAA,kOAAa,EAE1C;AAEK,MAAM,qBAAqB;IAChC,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IACA,OAAO;AACT;AAEO,MAAM,0BAET,CAAC,EAAE,QAAQ,EAAE;IACf,MAAM,CAAC,QAAQ,GAAG,IAAA,6NAAQ,EACxB,IAAI,yKAA4B;IAElC,qBACE,0PAAC,uBAAuB,QAAQ;QAAC,OAAO;YAAE;QAAQ;kBAC/C;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/hooks/metamask/useMetaMaskEthersSigner.tsx"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useMetaMask } from \"./useMetaMaskProvider\";\nimport {\n  createContext,\n  ReactNode,\n  RefObject,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\n\nexport interface UseMetaMaskEthersSignerState {\n  provider: ethers.Eip1193Provider | undefined;\n  chainId: number | undefined;\n  accounts: string[] | undefined;\n  isConnected: boolean;\n  error: Error | undefined;\n  connect: () => void;\n  sameChain: RefObject<(chainId: number | undefined) => boolean>;\n  sameSigner: RefObject<\n    (ethersSigner: ethers.JsonRpcSigner | undefined) => boolean\n  >;\n  ethersBrowserProvider: ethers.BrowserProvider | undefined;\n  ethersReadonlyProvider: ethers.ContractRunner | undefined;\n  ethersSigner: ethers.JsonRpcSigner | undefined;\n  initialMockChains: Readonly<Record<number, string>> | undefined;\n}\n\nfunction useMetaMaskEthersSignerInternal(parameters: { initialMockChains?: Readonly<Record<number, string>> }): UseMetaMaskEthersSignerState {\n  const { initialMockChains } = parameters;\n  const { provider, chainId, accounts, isConnected, connect, error } = useMetaMask();\n  const [ethersSigner, setEthersSigner] = useState<\n    ethers.JsonRpcSigner | undefined\n  >(undefined);\n  const [ethersBrowserProvider, setEthersBrowserProvider] = useState<\n    ethers.BrowserProvider | undefined\n  >(undefined);\n  const [ethersReadonlyProvider, setEthersReadonlyProvider] = useState<\n    ethers.ContractRunner | undefined\n  >(undefined);\n\n  const chainIdRef = useRef<number | undefined>(chainId);\n  const ethersSignerRef = useRef<ethers.JsonRpcSigner | undefined>(undefined);\n\n  const sameChain = useRef((chainId: number | undefined) => {\n    return chainId === chainIdRef.current;\n  });\n\n  const sameSigner = useRef(\n    (ethersSigner: ethers.JsonRpcSigner | undefined) => {\n      return ethersSigner === ethersSignerRef.current;\n    }\n  );\n\n  useEffect(() => {\n    chainIdRef.current = chainId;\n  }, [chainId]);\n\n  useEffect(() => {\n    if (\n      !provider ||\n      !chainId ||\n      !isConnected ||\n      !accounts ||\n      accounts.length === 0\n    ) {\n      ethersSignerRef.current = undefined;\n      setEthersSigner(undefined);\n      setEthersBrowserProvider(undefined);\n      setEthersReadonlyProvider(undefined);\n      return;\n    }\n\n    console.warn(`[useMetaMaskEthersSignerInternal] create new ethers.BrowserProvider(), chainId=${chainId}`);\n\n    const bp: ethers.BrowserProvider = new ethers.BrowserProvider(provider);\n    let rop: ethers.ContractRunner = bp;\n    const rpcUrl: string | undefined = initialMockChains?.[chainId];\n    if (rpcUrl) {\n      // Try to avoid using MetaMask Eip1193Provider for view functions in mock mode\n      // MetaMask keeps a cache value of all view function calls. When using a dev node, this can be problematic and \n      // lead to nasty bugs. See README for more infos.\n      rop = new ethers.JsonRpcProvider(rpcUrl);\n      console.warn(`[useMetaMaskEthersSignerInternal] create new readonly provider ethers.JsonRpcProvider(${rpcUrl}), chainId=${chainId}`);\n    } else {\n      console.warn(`[useMetaMaskEthersSignerInternal] use ethers.BrowserProvider() as readonly provider, chainId=${chainId}`);\n    }\n\n    const s = new ethers.JsonRpcSigner(bp, accounts[0]);\n    ethersSignerRef.current = s;\n    setEthersSigner(s);\n    setEthersBrowserProvider(bp);\n    setEthersReadonlyProvider(rop);\n  }, [provider, chainId, isConnected, accounts, initialMockChains]);\n\n  return {\n    sameChain,\n    sameSigner,\n    provider,\n    chainId,\n    accounts,\n    isConnected,\n    connect,\n    ethersBrowserProvider,\n    ethersReadonlyProvider,\n    ethersSigner,\n    error,\n    initialMockChains\n  };\n}\n\nconst MetaMaskEthersSignerContext = createContext<UseMetaMaskEthersSignerState | undefined>(\n  undefined\n);\n\ninterface MetaMaskEthersSignerProviderProps {\n  children: ReactNode;\n  initialMockChains: Readonly<Record<number, string>>;\n}\n\nexport const MetaMaskEthersSignerProvider: React.FC<MetaMaskEthersSignerProviderProps> = ({\n  children, initialMockChains\n}) => {\n  const props = useMetaMaskEthersSignerInternal({ initialMockChains });\n  return (\n    <MetaMaskEthersSignerContext.Provider value={props}>\n      {children}\n    </MetaMaskEthersSignerContext.Provider>\n  );\n};\n\nexport function useMetaMaskEthersSigner() {\n  const context = useContext(MetaMaskEthersSignerContext);\n  if (context === undefined) {\n    throw new Error(\"useMetaMaskEthersSigner must be used within a MetaMaskEthersSignerProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AA2BA,SAAS,gCAAgC,UAAoE;IAC3G,MAAM,EAAE,iBAAiB,EAAE,GAAG;IAC9B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,oKAAW;IAChF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6NAAQ,EAE9C;IACF,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,6NAAQ,EAEhE;IACF,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,6NAAQ,EAElE;IAEF,MAAM,aAAa,IAAA,2NAAM,EAAqB;IAC9C,MAAM,kBAAkB,IAAA,2NAAM,EAAmC;IAEjE,MAAM,YAAY,IAAA,2NAAM,EAAC,CAAC;QACxB,OAAO,YAAY,WAAW,OAAO;IACvC;IAEA,MAAM,aAAa,IAAA,2NAAM,EACvB,CAAC;QACC,OAAO,iBAAiB,gBAAgB,OAAO;IACjD;IAGF,IAAA,8NAAS,EAAC;QACR,WAAW,OAAO,GAAG;IACvB,GAAG;QAAC;KAAQ;IAEZ,IAAA,8NAAS,EAAC;QACR,IACE,CAAC,YACD,CAAC,WACD,CAAC,eACD,CAAC,YACD,SAAS,MAAM,KAAK,GACpB;YACA,gBAAgB,OAAO,GAAG;YAC1B,gBAAgB;YAChB,yBAAyB;YACzB,0BAA0B;YAC1B;QACF;QAEA,QAAQ,IAAI,CAAC,CAAC,+EAA+E,EAAE,SAAS;QAExG,MAAM,KAA6B,IAAI,sMAAM,CAAC,eAAe,CAAC;QAC9D,IAAI,MAA6B;QACjC,MAAM,SAA6B,mBAAmB,CAAC,QAAQ;QAC/D,IAAI,QAAQ;YACV,8EAA8E;YAC9E,+GAA+G;YAC/G,iDAAiD;YACjD,MAAM,IAAI,sMAAM,CAAC,eAAe,CAAC;YACjC,QAAQ,IAAI,CAAC,CAAC,sFAAsF,EAAE,OAAO,WAAW,EAAE,SAAS;QACrI,OAAO;YACL,QAAQ,IAAI,CAAC,CAAC,6FAA6F,EAAE,SAAS;QACxH;QAEA,MAAM,IAAI,IAAI,sMAAM,CAAC,aAAa,CAAC,IAAI,QAAQ,CAAC,EAAE;QAClD,gBAAgB,OAAO,GAAG;QAC1B,gBAAgB;QAChB,yBAAyB;QACzB,0BAA0B;IAC5B,GAAG;QAAC;QAAU;QAAS;QAAa;QAAU;KAAkB;IAEhE,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;AAEA,MAAM,4CAA8B,IAAA,kOAAa,EAC/C;AAQK,MAAM,+BAA4E,CAAC,EACxF,QAAQ,EAAE,iBAAiB,EAC5B;IACC,MAAM,QAAQ,gCAAgC;QAAE;IAAkB;IAClE,qBACE,0PAAC,4BAA4B,QAAQ;QAAC,OAAO;kBAC1C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport \"@rainbow-me/rainbowkit/styles.css\";\nimport type { ReactNode } from \"react\";\nimport { useState } from \"react\";\n\nimport { MetaMaskProvider } from \"@/hooks/metamask/useMetaMaskProvider\";\nimport { InMemoryStorageProvider } from \"@/hooks/useInMemoryStorage\";\nimport { MetaMaskEthersSignerProvider } from \"@/hooks/metamask/useMetaMaskEthersSigner\";\nimport { RainbowKitProvider } from \"@rainbow-me/rainbowkit\";\nimport { createConfig, http, WagmiProvider } from \"wagmi\";\nimport { injected } from \"wagmi/connectors\";\nimport { hardhat, sepolia } from \"wagmi/chains\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\ntype Props = {\n  children: ReactNode;\n};\n\nexport function Providers({ children }: Props) {\n  const [queryClient] = useState(() => new QueryClient());\n\n  // Build readonly RPC map for FHEVM usage (avoid routing reads via wallet)\n  const localUrl = process.env.NEXT_PUBLIC_LOCAL_RPC_URL || \"http://127.0.0.1:8545\";\n  // Prefer public Sepolia RPC that typically works in more regions.\n  // Can be overridden via NEXT_PUBLIC_SEPOLIA_RPC_URL.\n  const sepoliaUrl =\n    process.env.NEXT_PUBLIC_SEPOLIA_RPC_URL ||\n    \"https://rpc.sepolia.org\";\n  const readonlyRpcs: Record<number, string> = {\n    // Only map Hardhat to direct JSON-RPC in browser to avoid MetaMask caching on dev\n    // Do NOT map Sepolia here to prevent browser-side CORS issues; use wallet for reads instead\n    31337: localUrl,\n  };\n\n  // Wagmi + RainbowKit\n  // Important: Provide transports for the full union of possible chain ids\n  // even if Sepolia is not included in `chains`, to satisfy Wagmi's typing.\n  const transports = {\n    [hardhat.id]: http(localUrl),\n    [sepolia.id]: http(sepoliaUrl),\n  } as const;\n\n  // Always include Sepolia in chain list so RainbowKit modal shows both\n  const chains = [hardhat, sepolia] as const;\n\n  const wagmiConfig = createConfig({\n    chains,\n    connectors: [injected()],\n    transports,\n    ssr: true,\n  });\n\n  return (\n    <WagmiProvider config={wagmiConfig}>\n      <QueryClientProvider client={queryClient}>\n        <RainbowKitProvider>\n          <MetaMaskProvider>\n            <MetaMaskEthersSignerProvider initialMockChains={readonlyRpcs}>\n              <InMemoryStorageProvider>{children}</InMemoryStorageProvider>\n            </MetaMaskEthersSignerProvider>\n          </MetaMaskProvider>\n        </RainbowKitProvider>\n      </QueryClientProvider>\n    </WagmiProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAIA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAbA;;;;;;;;;;;;AAmBO,SAAS,UAAU,EAAE,QAAQ,EAAS;IAC3C,MAAM,CAAC,YAAY,GAAG,IAAA,6NAAQ,EAAC,IAAM,IAAI,wMAAW;IAEpD,0EAA0E;IAC1E,MAAM,WAAW,QAAQ,GAAG,CAAC,yBAAyB,IAAI;IAC1D,kEAAkE;IAClE,qDAAqD;IACrD,MAAM,aACJ,QAAQ,GAAG,CAAC,2BAA2B,IACvC;IACF,MAAM,eAAuC;QAC3C,kFAAkF;QAClF,4FAA4F;QAC5F,OAAO;IACT;IAEA,qBAAqB;IACrB,yEAAyE;IACzE,0EAA0E;IAC1E,MAAM,aAAa;QACjB,CAAC,uLAAO,CAAC,EAAE,CAAC,EAAE,IAAA,iLAAI,EAAC;QACnB,CAAC,uLAAO,CAAC,EAAE,CAAC,EAAE,IAAA,iLAAI,EAAC;IACrB;IAEA,sEAAsE;IACtE,MAAM,SAAS;QAAC,uLAAO;QAAE,uLAAO;KAAC;IAEjC,MAAM,cAAc,IAAA,0LAAY,EAAC;QAC/B;QACA,YAAY;YAAC,IAAA,gMAAQ;SAAG;QACxB;QACA,KAAK;IACP;IAEA,qBACE,0PAAC,4KAAa;QAAC,QAAQ;kBACrB,cAAA,0PAAC,yNAAmB;YAAC,QAAQ;sBAC3B,cAAA,0PAAC,gNAAkB;0BACjB,cAAA,0PAAC,yKAAgB;8BACf,cAAA,0PAAC,yLAA4B;wBAAC,mBAAmB;kCAC/C,cAAA,0PAAC,mKAAuB;sCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/huangchen/cipher-wealth-main/cipher-wealth-main/frontend/components/ConnectWalletTopRight.tsx"],"sourcesContent":["\"use client\";\n\nimport { ConnectButton } from \"@rainbow-me/rainbowkit\";\nimport { Wallet, ChevronDown } from \"lucide-react\";\n\nexport function ConnectWalletTopRight() {\n  return (\n    <ConnectButton.Custom>\n      {({\n        account,\n        chain,\n        openAccountModal,\n        openChainModal,\n        openConnectModal,\n        mounted,\n      }) => {\n        const ready = mounted;\n        const connected = ready && account && chain;\n\n        return (\n          <div\n            {...(!ready && {\n              'aria-hidden': true,\n              style: {\n                opacity: 0,\n                pointerEvents: 'none',\n                userSelect: 'none',\n              },\n            })}\n          >\n            {(() => {\n              if (!connected) {\n                return (\n                  <button\n                    onClick={openConnectModal}\n                    className=\"btn-premium flex items-center gap-2 px-5 py-2.5\"\n                  >\n                    <Wallet className=\"w-4 h-4\" />\n                    <span>Connect</span>\n                    <span className=\"text-sm\">‚ú®</span>\n                  </button>\n                );\n              }\n\n              if (chain.unsupported) {\n                return (\n                  <button \n                    onClick={openChainModal}\n                    className=\"px-4 py-2.5 rounded-xl bg-danger text-danger-foreground font-semibold flex items-center gap-2 hover:bg-danger/90 transition-all\"\n                  >\n                    <span>‚ö†Ô∏è</span>\n                    Wrong Network\n                    <ChevronDown className=\"w-4 h-4\" />\n                  </button>\n                );\n              }\n\n              return (\n                <div className=\"flex items-center gap-2\">\n                  {/* Chain Button */}\n                  <button\n                    onClick={openChainModal}\n                    className=\"glass px-3 py-2 rounded-xl flex items-center gap-2 hover:border-primary/50 transition-all\"\n                  >\n                    {chain.hasIcon && (\n                      <div\n                        className=\"w-5 h-5 rounded-full overflow-hidden\"\n                        style={{ background: chain.iconBackground }}\n                      >\n                        {chain.iconUrl && (\n                          <img\n                            alt={chain.name ?? 'Chain icon'}\n                            src={chain.iconUrl}\n                            className=\"w-5 h-5\"\n                          />\n                        )}\n                      </div>\n                    )}\n                    <span className=\"text-sm font-medium hidden sm:inline\">{chain.name}</span>\n                    <ChevronDown className=\"w-3 h-3 text-muted-foreground\" />\n                  </button>\n\n                  {/* Account Button */}\n                  <button\n                    onClick={openAccountModal}\n                    className=\"glass px-4 py-2 rounded-xl flex items-center gap-2 hover:border-primary/50 transition-all group\"\n                  >\n                    <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center\">\n                      <span className=\"text-xs\">üë§</span>\n                    </div>\n                    <span className=\"text-sm font-medium\">{account.displayName}</span>\n                    {account.displayBalance && (\n                      <span className=\"text-xs text-muted-foreground hidden md:inline\">\n                        ({account.displayBalance})\n                      </span>\n                    )}\n                    <ChevronDown className=\"w-3 h-3 text-muted-foreground group-hover:text-primary transition-colors\" />\n                  </button>\n                </div>\n              );\n            })()}\n          </div>\n        );\n      }}\n    </ConnectButton.Custom>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKO,SAAS;IACd,qBACE,0PAAC,2MAAa,CAAC,MAAM;kBAClB,CAAC,EACA,OAAO,EACP,KAAK,EACL,gBAAgB,EAChB,cAAc,EACd,gBAAgB,EAChB,OAAO,EACR;YACC,MAAM,QAAQ;YACd,MAAM,YAAY,SAAS,WAAW;YAEtC,qBACE,0PAAC;gBACE,GAAI,CAAC,SAAS;oBACb,eAAe;oBACf,OAAO;wBACL,SAAS;wBACT,eAAe;wBACf,YAAY;oBACd;gBACF,CAAC;0BAEA,CAAC;oBACA,IAAI,CAAC,WAAW;wBACd,qBACE,0PAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,0PAAC,4NAAM;oCAAC,WAAU;;;;;;8CAClB,0PAAC;8CAAK;;;;;;8CACN,0PAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;oBAGhC;oBAEA,IAAI,MAAM,WAAW,EAAE;wBACrB,qBACE,0PAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,0PAAC;8CAAK;;;;;;gCAAS;8CAEf,0PAAC,+OAAW;oCAAC,WAAU;;;;;;;;;;;;oBAG7B;oBAEA,qBACE,0PAAC;wBAAI,WAAU;;0CAEb,0PAAC;gCACC,SAAS;gCACT,WAAU;;oCAET,MAAM,OAAO,kBACZ,0PAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,YAAY,MAAM,cAAc;wCAAC;kDAEzC,MAAM,OAAO,kBACZ,0PAAC;4CACC,KAAK,MAAM,IAAI,IAAI;4CACnB,KAAK,MAAM,OAAO;4CAClB,WAAU;;;;;;;;;;;kDAKlB,0PAAC;wCAAK,WAAU;kDAAwC,MAAM,IAAI;;;;;;kDAClE,0PAAC,+OAAW;wCAAC,WAAU;;;;;;;;;;;;0CAIzB,0PAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,0PAAC;wCAAI,WAAU;kDACb,cAAA,0PAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;kDAE5B,0PAAC;wCAAK,WAAU;kDAAuB,QAAQ,WAAW;;;;;;oCACzD,QAAQ,cAAc,kBACrB,0PAAC;wCAAK,WAAU;;4CAAiD;4CAC7D,QAAQ,cAAc;4CAAC;;;;;;;kDAG7B,0PAAC,+OAAW;wCAAC,WAAU;;;;;;;;;;;;;;;;;;gBAI/B,CAAC;;;;;;QAGP;;;;;;AAGN","debugId":null}}]
}